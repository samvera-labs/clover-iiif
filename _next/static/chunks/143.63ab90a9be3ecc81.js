"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{3836:function(e,t,r){let i=r(815).parse,n=r(3647).compile,o=r(4604).segment,a=r(2589);e.exports={parse:i,compile:n,segment:o,hls:a}},3647:function(e){function t(e,t){this.message=e,this.error=t}function r(e){let t=i(Math.floor(e/60/60),2),r=i(Math.floor(e/60)%60,2),n=i(Math.floor(e%60),2),o=i(Math.floor(1e3*(e%1).toFixed(4)),3);return`${t}:${r}:${n}.${o}`}function i(e,t){let r=`${e}`;for(;r.length<t;)r=`0${r}`;return r}t.prototype=Object.create(Error.prototype),e.exports={CompilerError:t,compile:function(e){if(!e)throw new t("Input must be non-null");if("object"!=typeof e)throw new t("Input must be an object");if(Array.isArray(e))throw new t("Input cannot be array");if(!e.valid)throw new t("Input must be valid");let i="WEBVTT\n";if(e.meta){if("object"!=typeof e.meta||Array.isArray(e.meta))throw new t("Metadata must be an object");Object.entries(e.meta).forEach(e=>{if("string"!=typeof e[1])throw new t(`Metadata value for "${e[0]}" must be string`);i+=`${e[0]}: ${e[1]}
`})}let n=null;return e.cues.forEach((e,o)=>{if(n&&n>e.start)throw new t(`Cue number ${o} is not in chronological order`);n=e.start,i+="\n"+function(e){if("object"!=typeof e)throw new t("Cue malformed: not of type object");if("string"!=typeof e.identifier&&"number"!=typeof e.identifier&&null!==e.identifier)throw new t(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(e)}`);if(isNaN(e.start))throw new t(`Cue malformed: null start value.
    ${JSON.stringify(e)}`);if(isNaN(e.end))throw new t(`Cue malformed: null end value.
    ${JSON.stringify(e)}`);if(e.start>=e.end)throw new t(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(e)}`);if("string"!=typeof e.text)throw new t(`Cue malformed: null text value.
    ${JSON.stringify(e)}`);if("string"!=typeof e.styles)throw new t(`Cue malformed: null styles value.
    ${JSON.stringify(e)}`);let i="";e.identifier.length>0&&(i+=`${e.identifier}
`);let n=r(e.start),o=r(e.end);return i+(`${n} --> ${o}`+(e.styles?` ${e.styles}`:""))+`
${e.text}`}(e)+"\n"}),i}}},2589:function(e,t,r){let i=r(4604).segment;function n(e,t){let r="0".repeat(Math.max(0,t-e.toString().length));return`${r}${e}`}function o(e){let t=(e%1).toFixed(3),r=Math.floor((e=Math.round(e-t))/3600),i=Math.floor((e-3600*r)/60),o=e-3600*r-60*i,a=`${n(r,2)}:`;return`${a}${n(i,2)}:${n(o,2)}.${n(1e3*t,3)}`}e.exports={hlsSegment:function(e,t,r){void 0===r&&(r="900000");let n=i(e,t),a=[];return n.forEach((e,t)=>{let i=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${r},LOCAL:00:00:00.000

${function(e){let t=[];return e.forEach(e=>{t.push(function(e){let t=[];e.identifier&&t.push(e.identifier);let r=o(e.start),i=o(e.end),n=e.styles?`${e.styles}`:"";return t.push(`${r} --> ${i} ${n}`),t.push(e.text),t.join("\n")}(e))}),t.join("\n\n")}(e.cues)}
`,n=`${t}.vtt`;a.push({filename:n,content:i})}),a},hlsSegmentPlaylist:function(e,t){let r;let n=i(e,t),o=function(e){let t=[];return e.forEach((e,r)=>{t.push(`#EXTINF:${e.duration.toFixed(5)},
${r}.vtt`)}),t.join("\n")}(n),a=Math.round((r=0,n.forEach(e=>{e.duration>r&&(r=e.duration)}),r));return`#EXTM3U
#EXT-X-TARGETDURATION:${a}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${o}
#EXT-X-ENDLIST
`}}},815:function(e){function t(e,t){this.message=e,this.error=t}t.prototype=Object.create(Error.prototype);let r=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function i(e){let t=e.match(r);return 3600*parseFloat(t[1]||0)+(60*parseFloat(t[2])+parseFloat(t[3]))}e.exports={ParserError:t,parse:function(e,n){n||(n={});let{meta:o=!1,strict:a=!0}=n;if("string"!=typeof e)throw new t("Input must be a string");let l=(e=(e=(e=e.trim()).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n\n"),s=l.shift();if(!s.startsWith("WEBVTT"))throw new t('Must start with "WEBVTT"');let u=s.split("\n"),c=u[0].replace("WEBVTT","");if(c.length>0&&" "!==c[0]&&"	"!==c[0])throw new t("Header comment must start with space or tab");if(0===l.length&&1===u.length)return{valid:!0,strict:a,cues:[],errors:[]};if(!o&&u.length>1&&""!==u[1])throw new t("Missing blank line after signature");let{cues:d,errors:f}=function(e,n){let o=[];return{cues:e.map((e,a)=>{try{return function(e,n,o){var a,l;let s="",u=0,c=.01,d="",f="",h=e.split("\n").filter(Boolean);if(h.length>0&&h[0].trim().startsWith("NOTE"))return null;if(1===h.length&&!h[0].includes("-->"))throw new t(`Cue identifier cannot be standalone (cue #${n})`);if(h.length>1&&!(h[0].includes("-->")||h[1].includes("-->")))throw new t(`Cue identifier needs to be followed by timestamp (cue #${n})`);h.length>1&&h[1].includes("-->")&&(s=h.shift());let p="string"==typeof h[0]&&h[0].split(" --> ");if(2!==p.length||(a=p[0],!r.test(a))||(l=p[1],!r.test(l)))throw new t(`Invalid cue timestamp (cue #${n})`);if(u=i(p[0]),c=i(p[1]),o){if(u>c)throw new t(`Start timestamp greater than end (cue #${n})`);if(c<=u)throw new t(`End must be greater than start (cue #${n})`)}if(!o&&c<u)throw new t(`End must be greater or equal to start when not strict (cue #${n})`);return f=p[1].replace(r,"").trim(),h.shift(),!!(d=h.join("\n"))&&{identifier:s,start:u,end:c,text:d,styles:f}}(e,a,n)}catch(e){return o.push(e),null}}).filter(Boolean),errors:o}}(l,a);if(a&&f.length>0)throw f[0];let h=o?function(e){let t={};return e.slice(1).forEach(e=>{let r=e.indexOf(":"),i=e.slice(0,r).trim(),n=e.slice(r+1).trim();t[i]=n}),Object.keys(t).length>0?t:null}(u):null,p={valid:0===f.length,strict:a,cues:d,errors:f};return o&&(p.meta=h),p}}},4604:function(e,t,r){let i=r(815).parse;e.exports={segment:function(e,t){t=t||10;let r=i(e),n=[],o=[],a=null,l=0,s=0;return r.cues.forEach((e,i)=>{let u=0===i,c=i===r.cues.length-1,d=e.start,f=e.end,h=c?1/0:r.cues[i+1].start,p=u?f:f-d,g=u?0:d-r.cues[i-1].end;l=l+p+g,n.length,a&&(o.push(a),l+=a.end-s,a=null),o.push(e);let m=h-f<t&&g<t&&l>t;if(function(e,t,r,i){return(i<=t||i+(t-i%t)+e<r)&&r-e>=t}(s,t,h,g)){var v,w,x,y;let e;let r=(v=t,w=l,x=s,e=v,w>v&&(e=(y=w-v)+(v-y%v)),e=c?parseFloat((f-x).toFixed(2)):Math.round(e));n.push({duration:r,cues:o}),s+=r,l=0,o=[]}else m=!1;m&&(a=e)}),n}}},8059:function(e,t,r){r.d(t,{sX:function(){return C}});var i=r(6094),n=r(30),o=r(4472),a=r(2017);function l(e){for(let t of Array.isArray(e.profile)?e.profile:[e.profile])if("string"==typeof t&&-1!==a.I.indexOf(t))return!0;return!1}function s(e){return e["@id"]?e["@id"]:e.id?e.id:void 0}function u(e){if(!e||!e.profile||!s(e))return!1;for(let t of Array.isArray(e.profile)?e.profile:[e.profile])if("string"==typeof t&&-1!==a.G.indexOf(t))return!0;return!1}function c(e){return e.endsWith("info.json")?e:e.endsWith("/")?`${e}info.json`:`${e}/info.json`}function d(e,t){if(t&&t.profile){let r=t.profile;if(r){let t=Array.isArray(r)?r:[r];if(t.includes(`level${e}`)||t.includes(`http://iiif.io/api/image/2/level${e}.json`)||t.includes(`http://iiif.io/api/image/1/level${e}.json`)||t.includes(`http://iiif.io/api/image/1/profiles/level${e}.json`))return!0;if(2===e){for(let e of t)if(a.E.includes(e))return!0}if(1===e){for(let e of t)if(a.F.includes(e))return!0}if(0===e){for(let e of t)if(a.I.includes(e))return!0}}}return!1}function f(e){return u(e)?d(0,e)?0:d(1,e)?1:d(2,e)?2:null:null}function h(e){let t=e.service?Array.isArray(e.service)?e.service:[e.service]:[],r=t.length,i=[];for(let e=0;e<r;e++)u(t[e])&&i.push(t[e]);return i}function p(e){let t=e.replace(/(https?:\/\/)?(www.)?/i,"");return -1!==t.indexOf("/")?t.split("/")[0]:t}function g(e,t,r){let i=function(e){let t=function(e,t=""){let{path:r,scheme:i,server:n,prefix:o}=function(e,t=""){let r=e.match(/^(([a-zA-Z]+):\/\/([^/]+))?((.*)+)/);if(!r)throw Error(`Invalid or unknown input ${e}`);let i=r[2],n=r[3],o=r[4];if("/"===o[0]&&(o=o.substring(1)),t.length>0){if("/"===t[0]&&(t=t.substring(1)),t!==o.substring(0,t.length))throw Error(`Path does not start with prefix (path: ${o}, prefix: ${t})`);o=o.substring(t.length)}return{scheme:i,server:n,path:o,prefix:t}}(e,t),a=r.split("/").reverse(),[l,s,u,c,...d]=a,f=d.reverse().filter(Boolean).join("/");if(1===a.length||""===l)return{type:"base",scheme:i,server:n,prefix:o,identifier:f};if("info.json"===l){let[,...e]=a;return{type:"info",scheme:i,server:n,prefix:o,identifier:e.reverse().filter(Boolean).join("/")}}if(typeof i>"u"||typeof n>"u"||typeof r>"u"||typeof c>"u"||typeof u>"u"||typeof s>"u"||typeof l>"u")throw Error("Invalid image service URL");let[h="",p=""]=l.split(".");return{type:"image",scheme:i,server:n,prefix:o,identifier:f,originalPath:r,region:function(e){try{if("full"===e)return{full:!0};if("square"===e)return{square:!0};let t=e.startsWith("pct:"),r=e.substr(t?4:0).split(",").map(e=>parseFloat(e));return{x:r[0],y:r[1],w:r[2],h:r[3],percent:t}}catch{throw Error("Expected 'full', 'square' or 'x,y,w,h'. Found "+e)}}(c),size:function(e){let t={upscaled:!1,max:!1,confined:!1};if("^"===e[0]&&(t.upscaled=!0,e=e.slice(1)),"max"===e||"full"===e)return t.max=!0,t.serialiseAsFull="full"===e,t;if("!"===e[0]&&(t.confined=!0,e=e.slice(1)),"p"===e[0])return t.percentScale=parseFloat(e.slice(4)),t;let r=e.split(",").map(e=>e.trim());return r.length&&(""!==r[0]&&(t.width=parseInt(r[0],10)),""!==r[1]&&(t.height=parseInt(r[1],10))),t}(u),rotation:function(e){let t={angle:0};if("!"===e[0]&&(t.mirror=!0,e=e.substr(1)),t.angle=parseFloat(e)%360,Number.isNaN(t.angle))throw Error(`Invalid rotation ${e}`);return t}(s),quality:h,format:p}}(c(e.id));if("info"!==t.type)throw Error("Invalid service URL");let r=function(e){let t=e?Array.isArray(e.profile)?e.profile:[e.profile]:[],r={extraQualities:[],extraFormats:[],extraFeatures:[]};for(let e of t){var i;if("string"==typeof e&&(i=e,e=-1!==a.E.indexOf(i)?a.L:-1!==a.F.indexOf(i)?a.K:a.J),e){if(e.formats)for(let t of e.formats)-1===r.extraFormats.indexOf(t)&&r.extraFormats.push(t);if(e.qualities)for(let t of e.qualities)-1===r.extraQualities.indexOf(t)&&r.extraQualities.push(t);if(e.supports)for(let t of e.supports)-1===r.extraFeatures.indexOf(t)&&r.extraFeatures.push(t);if(e.maxHeight&&(r.maxHeight=e.maxHeight),e.maxWidth&&(r.maxWidth=e.maxWidth),e.maxArea&&(r.maxArea=e.maxArea),e.extraFormats)for(let t of e.extraFormats)-1===r.extraFormats.indexOf(t)&&r.extraFormats.push(t);if(e.extraQualities)for(let t of e.extraQualities)-1===r.extraQualities.indexOf(t)&&r.extraQualities.push(t);if(e.extraFeatures)for(let t of e.extraFeatures)-1===r.extraFeatures.indexOf(t)&&r.extraFeatures.push(t);e.maxHeight&&(r.maxHeight=e.maxHeight),e.maxWidth&&(r.maxWidth=e.maxWidth),e.maxArea&&(r.maxArea=e.maxArea)}}if(e.extraFormats)for(let t of e.extraFormats)-1===r.extraFormats.indexOf(t)&&r.extraFormats.push(t);if(e.extraFeatures)for(let t of e.extraFeatures)-1===r.extraFeatures.indexOf(t)&&r.extraFeatures.push(t);if(e.extraQualities)for(let t of e.extraQualities)-1===r.extraQualities.indexOf(t)&&r.extraQualities.push(t);return r}(e);return{identifier:t.identifier,originalPath:"",server:t.server,prefix:t.prefix,scheme:t.scheme,type:"image",quality:-1===r.extraQualities.indexOf("default")?r.extraQualities[0]:"default",region:{full:!0},size:{max:!0,upscaled:!1,confined:!1},format:"jpg",rotation:{angle:0}}}({"@context":3===e.version?"http://iiif.io/api/image/3/context.json":"http://iiif.io/api/image/2/context.json",id:c(s(e)),profile:null===e.level||void 0===e.level?"level0":`level${e.level}`,type:3===e.version?"ImageService3":"ImageService2"});if("image"!==i.type)throw Error("Invalid service");return i.size.max=!1,i.size.width=t,i.size.height=r,{id:function(e,t){let r=e.prefix.startsWith("/")?e.prefix.substring(1):e.prefix,i=`${e.scheme}://${e.server}/${r?`${r}/`:""}${e.identifier}`;if("base"===e.type)return i;if("info"===e.type)return`${i}/info.json`;let{size:n}=e,{region:o,rotation:a,format:l,quality:s}=e;return[i,function({x:e=0,y:t=0,w:r,h:i,full:n,square:o,percent:a}){if(n)return"full";if(o)return"square";if(typeof r>"u"||typeof i>"u")throw Error("RegionParameter: invalid region");let l=`${e},${t},${r},${i}`;return a?`pct:${l}`:l}(o),function({max:e,percentScale:t,upscaled:r,confined:i,width:n,height:o,serialiseAsFull:a,version:l}){let s=[];return r&&s.push("^"),e?s.push(a?"full":"max"):(i&&s.push("!"),t&&s.push(`pct:${t}`),n&&s.push(`${n}`),s.push(","),o&&3===l&&s.push(`${o}`)),s.join("")}(n),`${a.mirror?"!":""}${(a.angle||0)%360}`,`${s}.${l}`].filter(Boolean).join("/")}(i),type:"fixed",width:t,height:r||e.height/(e.width||1)*t,unsafe:e.width>t}}function m(e){return -1!==(e["@context"]?Array.isArray(e["@context"])?e["@context"]:[e["@context"]]:[]).indexOf("http://iiif.io/api/image/3/context.json")}function v(e){let t=[],r=e.length;for(let i=0;i<r;i++){let r=e[i];if(!r)continue;let n=function(e){return u(e)?(e&&e.sizes?e.sizes:[]).map(t=>({id:s(e),type:"fixed-service",height:t.height,width:t.width,level:f(e),version:m(e)?3:2})):[]}(r);n.length&&t.push(...n);let o=function(e){if(!function(e){if(!u(e))return!1;for(let t of Array.isArray(e.profile)?e.profile:[e.profile])if("string"==typeof t){if(-1!==a.F.indexOf(t))return!0}else{let e=[...t.supports||[],...t.extraFeatures||[]];if(-1!==e.indexOf("regionByPx")&&(-1!==e.indexOf("sizeByW")||-1!==e.indexOf("sizeByWh")))return!0}return!1}(e))return[];let t=[],r=Array.isArray(e.profile)?e.profile:[e.profile],i=r.length;for(let t=0;t<i;t++){let i=r[t];if(i&&"string"!=typeof i&&(i.maxHeight||i.maxWidth))return[{id:s(e),type:"variable",minWidth:0,minHeight:0,maxHeight:i.maxHeight||i.maxWidth,maxWidth:i.maxWidth||i.maxHeight,level:f(e),version:"http://iiif.io/api/image/3/context.json"===e["@context"]?3:2}]}if(e.tiles){let r=e.tiles.length;for(let i=0;i<r;i++){let r=e.tiles[i];r&&(r.height||r.width)&&t.push({id:s(e),type:"variable",minHeight:0,minWidth:0,maxHeight:r.height||r.width,maxWidth:r.width,level:f(e),version:m(e)?3:2})}}return t}(r);o.length&&t.push(...o)}return t}function w(e){let t=e.match(/^.*\/(full)\/(((\d+),(\d+)?)|max)\/(\d+)\/default\.(jpg|png|jpeg)$/);if(t&&t[4]&&t[5]){let r=t[1],i=parseInt(t[4],10),n=parseInt(t[5],10),o=t[7];if(("max"===r||"full"===r)&&i&&n&&o)return{type:"fixed",id:e,height:n,width:i}}return{type:"unknown",id:e}}function x(e){if("string"==typeof e)return w(e);let t=e["@type"]?e["@type"]:e.type?e.type:void 0;if("Image"!==t&&"sc:Image"!==t)return null;let r=s(e);return r?r&&e.width&&e.height?{id:r,type:"fixed",width:e.width,height:e.height,unsafe:!0}:w(r):null}var y=class{constructor(e={}){(0,o.ov)(this,"config",{verificationsRequired:1,approximateServices:!1,enableFetching:!0,disableThrottling:!1}),(0,o.ov)(this,"fetchingCount",0),(0,o.ov)(this,"imageServices",{}),(0,o.ov)(this,"knownImageServers",{}),this.config=Object.assign(this.config,e)}setConfig(e){Object.assign(this.config,e)}sample(e,t,r=!0){let i=p(s(e)),n=c(s(e)),o=this.knownImageServers[i];return(this.imageServices[n]=Object.assign(e,{real:!0}),o||!e.tiles||l(e))?this.verify(e):(this.knownImageServers[i]={verifications:0,malformed:!1,root:i,preLoaded:r,sampledId:s(e),verified:!1,server:null,result:{context:e["@context"]||[],sampledProfile:e.profile,resourceServiceRatio:t&&e.height?t.height/e.height:1,sampledSizes:e.sizes||[],sizeRatios:function(e,t,r){let i=r.length,n=[];for(let t=0;t<i;t++){let i=r[t];if(!i)continue;let o=i.width;n.push(e/o)}return n}(e.width,e.height,e.sizes||[]),sampledTiles:e.tiles||[]}},!0)}preLoad(e,t=!0){this.knownImageServers[e.root]=e,t&&(this.knownImageServers[e.root].malformed=!1,this.knownImageServers[e.root].verifications=this.config.verificationsRequired)}predict(e,t=!1,r=!1){let i=e?.source,n=p(s(e)),o=this.knownImageServers[n],a=c(s(e));return this.imageServices[a]?this.imageServices[a]||null:!(!this.config.approximateServices||!o||!o.result||!(i?.height||e.height)||!(i?.width||e.width)||!r&&(o.malformed||o.verifications<this.config.verificationsRequired)||e.source&&l(e.source))?(this.imageServices[a]||(this.imageServices[a]={"@context":o.result.context,"@id":s(e),id:s(e),protocol:"http://iiif.io/api/image",tiles:i?.tiles||function(e,t,r){let i=e>t?e:t,n=r.length,o=[];for(let e=0;e<n;e++){let t=r[e];if(!t||0===t.scaleFactors.length)continue;let n=t.scaleFactors[0];if(!n)continue;let a=i/n,l=[n];for(;a>=t.width;)n*=2,l.push(n),a/=2;o.push({...t,scaleFactors:l})}return o}(e.width,e.height,o.result.sampledTiles),sizes:i?.sizes||function(e,t,r){let i=r.length,n=[];for(let o=0;o<i;o++){let i=r[o];i&&n.push({width:Math.floor(e/i),height:Math.floor(t/i)})}return n}(Math.round(e.width/o.result.resourceServiceRatio),Math.round(e.height/o.result.resourceServiceRatio),o.result.sizeRatios),profile:i?.profile||o.result.sampledProfile,height:i?.height||e.height,width:i?.width||e.width,real:!1}),this.imageServices[a]||null):null}async getThumbnailFromResource(e,t,r=!0,i=[]){let n=e?await this.getImageCandidates(e,r):[];return function(e,t){let r=[],i=Object.assign({unsafeImageService:!1,atAnyCost:!0,fallback:!0,minHeight:64,minWidth:64,maxHeight:1/0,maxWidth:1/0,returnAllOptions:!1,preferFixedSize:!1,allowUnsafe:!1,explain:!1,height:0,width:0},e),n=(e,t=0)=>i.explain?r.push(Array(t).fill(0).map(e=>"    ").join("")+e().trim()):void 0,o=[],a=[],l=null;n(()=>`Using configuration: ${JSON.stringify(i,null,2)}`);let s=(e,t)=>{if(n(()=>"Swapping choice",3),function(e,t,r){let i=e.width?e.width:e.maxWidth;return r.height<=e.maxHeight&&r.width<=e.maxWidth&&r.height>=e.minHeight&&r.width>=e.minWidth&&(!t||Math.abs(r.width-i)<Math.abs(t.width-i))}(i,t,e)){if(i.preferFixedSize&&e.unsafe){n(()=>`We found an image that was marked as unsafe, but it was the best size. (${e.id})`,4),a.push(e);return}i.returnAllOptions&&t&&a.push(t),n(()=>`We found a new image that was the best size. (${e.id})`,4),l=e}else i.returnAllOptions&&a.push(e)};n(()=>`The input shows we have ${t.length} list(s) of candidates to choose from.`);let u=t.length;for(let e=0;e<u;e++){let r=t[e]();n(()=>`Candidate group ${e}: ${JSON.stringify(r,null,2)}`,1);let a=r.length;n(()=>`Checking candidate list number ${e} and found ${a} potential ways of creating image(s)`,1);for(let e=0;e<a;e++){let t=r[e];n(()=>`-> Checking candidate ${e}`,1),"unknown"===t.type&&i.atAnyCost&&(n(()=>'We\'ve found an unknown image type, adding this to the "last resort" list',2),o.push(t)),"fixed"===t.type&&(t.unsafe?(n(()=>'We\'ve found an unsafe fixed image type, adding this to the "last resort" list',2),o.push(t)):(n(()=>"We've found a fixed size image, checking if it matches the request",2),s(t,l))),"fixed-service"===t.type&&(i.unsafeImageService?(n(()=>"Checking for an image from the tile source, without calculating the right height and width (unsafeImageService)",2),s(g(t,i.width,i.height),l)):(n(()=>"Checking for an image from the tile source 3",2),s(g(t,t.width,t.height),l))),"variable"===t.type&&t.maxWidth&&s(g({id:t.id,type:"fixed-service",width:t.maxWidth,height:t.maxWidth,level:t.level,version:t.version},t.maxWidth),l)}if(l&&!i.returnAllOptions){if(l.unsafe||i.allowUnsafe)continue;n(()=>`We found a match in choice list number ${e}, no searching any more`);break}}return i.atAnyCost&&0===a.length?(n(()=>l?`We found an image! ${l.id} of type ${l.type}`:'We found no images, but "atAnyCost" is set, so returning that'),{best:l||o[0]||null,fallback:o.slice(1),log:r}):i.returnAllOptions?(n(()=>"Returning all options that we have found"),{best:(i.atAnyCost?l||a[0]||o[0]:l||a[0])||null,fallback:[...a,...o],log:r}):(n(()=>"Returning the best image that we found, and a fallback"),{best:l||a[0]||null,fallback:l?a:a.slice(1),log:r})}(t,[()=>i,()=>n])}async getImageCandidates(e,t=!0){if(t&&e&&e.height&&e.width)for(let t of h(e)){let r={id:s(t),width:t.width?t.width:e.width,height:t.height?t.height:e.height,source:t};await this.loadService(r)}return function(e,t=!0,r){let i=[],n=x(e);if(null===n)return i;if(i.push(n),t&&e&&e.width&&e.height){let t=[];for(let i of h(e)){let n={id:s(i),width:e.width,height:e.height};if(r.canLoadSync(n)){let i=r.loadServiceSync(n);i&&(i.height||(i.height=e.height),i.width||(i.width=e.width),t.push(...v([i])))}}if(t.length)return i.push(...t),i}return e.service&&i.push(...v(e.service)),i}(e,t,this)}async verify(e){let t=this.predict(e,!1,!0),r=await this.fetchService(s(e));if(!t)return!1;let i=t.height===r.height&&t.width===r.width&&t["@context"]===r["@context"]&&function(e,t){if(e.length!==t.length)return!1;if(0===e.length&&0===t.length)return!0;let r=e.length,i=!0;for(let n=0;n<r;n++){let r=e[n],o=t[n];if(r.width!==o.width||r.height!==o.height){i=!1;break}}if(i)return!0;let n=0;for(let i=0;i<r;i++)for(let o=0;o<r;o++)if(e[i].width===t[o].width&&e[i].height===t[o].height){n++;break}return n===r}(t.sizes||[],r.sizes||[]);if(i){let t=p(s(e)),r=this.knownImageServers[t];r&&(r.verifications+=1,r.verifications>=this.config.verificationsRequired&&(r.verified=!0))}return i}canLoadSync(e){let t="string"==typeof e?e:s(e),r=c(t);if(this.imageServices[r])return!0;let i=this.knownImageServers[p(t)];return!!(i&&!i.malformed&&i.verifications>=this.config.verificationsRequired)}async markAsMalformed(e){return this.knownImageServers[p(s(e))].malformed=!0,this.loadService(e,!0)}async fetchService(e,t=!1){let r=c(e),i=this.imageServices[r];if(i&&(!t||i.real))return i;if(!this.config.enableFetching)throw Error("Fetching is not enabled");let n=await this.fetch(r).then(e=>e.json());return!n.id&&n["@id"]&&(n.id=n["@id"]),n.id!==e&&(n.id=e,n["@id"]&&(n["@id"]=e)),this.imageServices[r]=Object.assign(n,{real:!0}),this.imageServices[r]}async fetch(e,t){return fetch(e,t)}async loadService(e,t=!1){if(!this.config.disableThrottling){let e=!0;for(;e;)if(this.fetchingCount>=this.config.verificationsRequired)await new Promise(e=>setTimeout(e,500));else{e=!1;break}}let r=this.knownImageServers[p(s(e))];if(r&&!r.malformed&&!t){await r.result;let t=this.loadServiceSync(e);if(t)return t}this.fetchingCount++;let i=await this.fetchService(s(e),t);return this.fetchingCount--,i.real&&this.sample(i,e),i}loadServiceSync(e){let t=c(s(e));return this.imageServices[t]?this.imageServices[t]:this.config.approximateServices?this.predict(e):null}};!function(e={}){let t=e.events||(0,i.O)(),r=e.loader||new y;(0,n.M)((e,i)=>({loaded:{},loadServiceSync:(n,o,a)=>{let l=n.id||n["@id"],u=i().loaded[l];if(u&&"done"===u.status)return u.service;if(u&&"loading"===u.status)return null;if(u&&"error"===u.status)throw Error("Failed to load image service");let c={id:s(n),width:n.width||o?.width||0,height:n.height||o?.height||0,source:n},d=r.loadServiceSync(c);return d?(e(e=>({loaded:{...e.loaded,[l]:{status:"done",service:d,real:!0}}})),t.emit("image-service.loaded",{id:l,service:d})):a&&i().loadService(n,o).then(()=>{}),d},loadService:async(n,o)=>{let a=n.id||n["@id"],l=i().loaded[a];if(l&&"done"===l.status)return l.service;if(l&&"loading"===l.status)return new Promise((e,r)=>{let i=r=>{r.id===a&&(t.off("image-service.loaded",i),e(r.service||n))};t.on("image-service.loaded",i)});if(l&&"error"===l.status&&!o?.force)throw Error("Failed to load image service");t.emit("image-service.loading",{id:a});try{let i={id:s(n),width:n.width||0,height:n.height||0,source:n},l=await r.loadService(i,o?.force);return e(e=>({loaded:{...e.loaded,[a]:{status:"done",service:l,real:l.real}}})),t.emit("image-service.loaded",{id:a,service:l}),l}catch(e){throw t.emit("image-service.error",{id:a,error:e}),e}}}))}();var b=r(9879),S=new y,j=new Map;function C(e,{vault:t=b.x,dereference:r=!1,...i}={}){let n=j.get(t);return n||(n=function(e=b.x,t={}){let r=t.imageServiceLoader||S;async function i(t,n,o=!1,a=[],l){let s=()=>r.getThumbnailFromResource(void 0,n,o,a);if(!t)return await r.getThumbnailFromResource(void 0,n,o,a);if("string"==typeof t){let e=x(t);return e&&a.push(e),await r.getThumbnailFromResource(void 0,n,o,a)}let u=e.get(t,{skipSelfReturn:!1});if("string"==typeof u)return{best:x(u),fallback:[],log:[]};if(!u)return await s();let c=async t=>{if(t&&t.thumbnail&&t.thumbnail.length){let i=e.get(t.thumbnail[0]),n=await r.getImageCandidates(i,o);n&&n.length&&a.push(...n)}};switch(await c(u),u.type){case"Annotation":{let t=Array.isArray(u.body)?u.body:[u.body],i=e.get(t[0]);return l&&!i.width&&(i.width=l.width,i.height=l.height),await r.getThumbnailFromResource(i,n,o,a)}case"Canvas":return i(u.items[0],n,o,a,{width:u.width,height:u.height});case"AnnotationPage":return i(u.items[0],n,o,a,l);case"Choice":if(!u.items||u.items[0])break;return i(u.items[0],n,o,a,l);case"Collection":{let e=u.items[0];if(!e)return await s();return i(e,n,o,a,l)}case"Manifest":{let e=u.items[0];if(!e)return await s();return i(e,n,o,a,l)}case"SpecificResource":case"Image":case"Dataset":case"Sound":case"Text":case"TextualBody":case"Video":return l&&!u.width&&(u.width=l.width,u.height=l.height),r.getThumbnailFromResource(u,n,o,a)}return await s()}return{getBestThumbnailAtSize:i}}(t),j.set(t,n)),n.getBestThumbnailAtSize(e,i,r)}},9879:function(e,t,r){r.d(t,{x:function(){return n}});var i={},n={get:e=>e,setMetaValue([e,t,r],o){let a=n.getResourceMeta(e,t),l=a?a[r]:void 0,s="function"==typeof o?o(l):o;i[e]={...i[e]||{},[t]:{...(i[e]||{})[t]||{},[r]:s}}},getResourceMeta:(e,t)=>{let r=i[e];return r?t?r[t]:r:void 0},load:async e=>fetch("string"==typeof e?e:e.id).then(e=>e.json()),requestStatus(e){}}},4394:function(e,t,r){r.d(t,{rw:function(){return o},sA:function(){return n}});var i=r(9879);function n(e=i.x,t,r,n=!1){let a=t.behavior||[],l=r?e.get(r):null;if(!l)return[];let s=l.behavior||[],u=!n&&a.includes("paged"),c=!u&&a.includes("continuous"),d=!u&&!c&&a.includes("individuals"),f=s.includes("facing-pages"),h=s.includes("non-paged");if(f||h||d||n)return[{id:l.id,type:"Canvas"}];let[p,g]=o(e,t);if(c)return p;let m=p.findIndex(e=>e.id===r);if(-1===m)return[];for(let e of g)if(e.includes(m))return e.map(e=>p[e]);return[{id:l.id,type:"Canvas"}]}function o(e=i.x,t,{disablePaging:r,skipNonPaged:n}={}){let o=t.behavior||[],a=o.includes("paged"),l=!a&&o.includes("continuous"),s=!a&&!l&&o.includes("individuals"),u="Manifest"===t.type?t.items:function e(t,r){let i=[];for(let n of r.items)if("SpecificResource"===n.type&&n.source?.type==="Canvas"&&(-1!==n.source.id.indexOf("#")?i.push({id:n.source.id.split("#")[0],type:"Canvas"}):i.push(n.source)),"Range"===n.type&&i.push(...e(t,t.get(n))),"SpecificResource"===n.type){let e="string"==typeof n.source?n.source:n.source.id;i.push({id:e,type:"Canvas"})}return i}(e,t);if(l)return[u,[u.map((e,t)=>t)]];if(s||!a||r)return[u,u.map((e,t)=>[t])];let c=[],d=[],f=()=>{d.length&&(c.push([...d]),d=[])},h=0,p=!1;for(let t=0;t<u.length;t++){let r=e.get(u[t]).behavior||[];if(r.includes("non-paged")){t===h&&h++,n||(f(),c.push([t]),f());continue}if(t===h||r.includes("facing-pages")){d.length&&(p=!0),f(),c.push([t]),f();continue}if(d.push(t),p){f(),p=!1;continue}d.length>1&&f()}return d.length&&f(),[u,c]}},6273:function(e,t,r){r.d(t,{fC:function(){return j}});var i=r(5271),n=r(7653),o=r(4425),a=r(7155),l=r(6518),s=r(153),u=r(3518),c=r(6056),d=r(4124),f=r(2676),h="Collapsible",[p,g]=(0,o.b)(h),[m,v]=p(h),w=i.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:l,onOpenChange:s,...c}=e,[p,g]=(0,a.T)({prop:n,defaultProp:o??!1,onChange:s,caller:h});return(0,f.jsx)(m,{scope:r,disabled:l,contentId:(0,d.M)(),open:p,onOpenToggle:i.useCallback(()=>g(e=>!e),[g]),children:(0,f.jsx)(u.WV.div,{"data-state":S(p),"data-disabled":l?"":void 0,...c,ref:t})})});w.displayName=h;var x="CollapsibleTrigger";i.forwardRef((e,t)=>{let{__scopeCollapsible:r,...i}=e,o=v(x,r);return(0,f.jsx)(u.WV.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":S(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...i,ref:t,onClick:(0,n.Mj)(e.onClick,o.onOpenToggle)})}).displayName=x;var y="CollapsibleContent";i.forwardRef((e,t)=>{let{forceMount:r,...i}=e,n=v(y,e.__scopeCollapsible);return(0,f.jsx)(c.z,{present:r||n.open,children:({present:e})=>(0,f.jsx)(b,{...i,ref:t,present:e})})}).displayName=y;var b=i.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:n,children:o,...a}=e,c=v(y,r),[d,h]=i.useState(n),p=i.useRef(null),g=(0,s.e)(t,p),m=i.useRef(0),w=m.current,x=i.useRef(0),b=x.current,j=c.open||d,C=i.useRef(j),R=i.useRef(void 0);return i.useEffect(()=>{let e=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,l.b)(()=>{let e=p.current;if(e){R.current=R.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();m.current=t.height,x.current=t.width,C.current||(e.style.transitionDuration=R.current.transitionDuration,e.style.animationName=R.current.animationName),h(n)}},[c.open,n]),(0,f.jsx)(u.WV.div,{"data-state":S(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!j,...a,ref:g,style:{"--radix-collapsible-content-height":w?`${w}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:j&&o})});function S(e){return e?"open":"closed"}var j=w},1243:function(e,t,r){r.d(t,{B:function(){return s}});var i=r(5271),n=r(4425),o=r(153),a=r(4758),l=r(2676);function s(e){let t=e+"CollectionProvider",[r,s]=(0,n.b)(t),[u,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),d=e=>{let{scope:t,children:r}=e,n=i.useRef(null),o=i.useRef(new Map).current;return(0,l.jsx)(u,{scope:t,itemMap:o,collectionRef:n,children:r})};d.displayName=t;let f=e+"CollectionSlot",h=(0,a.Z8)(f),p=i.forwardRef((e,t)=>{let{scope:r,children:i}=e,n=c(f,r),a=(0,o.e)(t,n.collectionRef);return(0,l.jsx)(h,{ref:a,children:i})});p.displayName=f;let g=e+"CollectionItemSlot",m="data-radix-collection-item",v=(0,a.Z8)(g),w=i.forwardRef((e,t)=>{let{scope:r,children:n,...a}=e,s=i.useRef(null),u=(0,o.e)(t,s),d=c(g,r);return i.useEffect(()=>(d.itemMap.set(s,{ref:s,...a}),()=>void d.itemMap.delete(s))),(0,l.jsx)(v,{[m]:"",ref:u,children:n})});return w.displayName=g,[{Provider:d,Slot:p,ItemSlot:w},function(t){let r=c(e+"CollectionConsumer",t);return i.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},s]}},2799:function(e,t,r){r.d(t,{gm:function(){return o}});var i=r(5271);r(2676);var n=i.createContext(void 0);function o(e){let t=i.useContext(n);return e||t||"ltr"}},8647:function(e,t,r){r.d(t,{ck:function(){return O},fC:function(){return P}});var i=r(5271),n=r(7653),o=r(153),a=r(4425),l=r(3518),s=r(4239),u=r(7155),c=r(2799),d=r(9375),f=r(8170),h=r(6056),p=r(2676),g="Radio",[m,v]=(0,a.b)(g),[w,x]=m(g),y=i.forwardRef((e,t)=>{let{__scopeRadio:r,name:a,checked:s=!1,required:u,disabled:c,value:d="on",onCheck:f,form:h,...g}=e,[m,v]=i.useState(null),x=(0,o.e)(t,e=>v(e)),y=i.useRef(!1),b=!m||h||!!m.closest("form");return(0,p.jsxs)(w,{scope:r,checked:s,disabled:c,children:[(0,p.jsx)(l.WV.button,{type:"button",role:"radio","aria-checked":s,"data-state":C(s),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:x,onClick:(0,n.Mj)(e.onClick,e=>{s||f?.(),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),b&&(0,p.jsx)(j,{control:m,bubbles:!y.current,name:a,value:d,checked:s,required:u,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});y.displayName=g;var b="RadioIndicator",S=i.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:i,...n}=e,o=x(b,r);return(0,p.jsx)(h.z,{present:i||o.checked,children:(0,p.jsx)(l.WV.span,{"data-state":C(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})})});S.displayName=b;var j=i.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{let u=i.useRef(null),c=(0,o.e)(u,s),h=(0,f.D)(r),g=(0,d.t)(t);return i.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==r&&t){let i=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(i)}},[h,r,n]),(0,p.jsx)(l.WV.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function C(e){return e?"checked":"unchecked"}j.displayName="RadioBubbleInput";var R=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],k="RadioGroup",[I,E]=(0,a.b)(k,[s.Pc,v]),M=(0,s.Pc)(),T=v(),[A,$]=I(k),F=i.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:i,defaultValue:n,value:o,required:a=!1,disabled:d=!1,orientation:f,dir:h,loop:g=!0,onValueChange:m,...v}=e,w=M(r),x=(0,c.gm)(h),[y,b]=(0,u.T)({prop:o,defaultProp:n??null,onChange:m,caller:k});return(0,p.jsx)(A,{scope:r,name:i,required:a,disabled:d,value:y,onValueChange:b,children:(0,p.jsx)(s.fC,{asChild:!0,...w,orientation:f,dir:x,loop:g,children:(0,p.jsx)(l.WV.div,{role:"radiogroup","aria-required":a,"aria-orientation":f,"data-disabled":d?"":void 0,dir:x,...v,ref:t})})})});F.displayName=k;var W="RadioGroupItem",N=i.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:a,...l}=e,u=$(W,r),c=u.disabled||a,d=M(r),f=T(r),h=i.useRef(null),g=(0,o.e)(t,h),m=u.value===l.value,v=i.useRef(!1);return i.useEffect(()=>{let e=e=>{R.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,p.jsx)(s.ck,{asChild:!0,...d,focusable:!c,active:m,children:(0,p.jsx)(y,{disabled:c,required:u.required,checked:m,...f,...l,name:u.name,ref:g,onCheck:()=>u.onValueChange(l.value),onKeyDown:(0,n.Mj)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,n.Mj)(l.onFocus,()=>{v.current&&h.current?.click()})})})});N.displayName=W,i.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...i}=e,n=T(r);return(0,p.jsx)(S,{...n,...i,ref:t})}).displayName="RadioGroupIndicator";var P=F,O=N},4239:function(e,t,r){r.d(t,{Pc:function(){return b},ck:function(){return A},fC:function(){return T}});var i=r(5271),n=r(7653),o=r(1243),a=r(153),l=r(4425),s=r(4124),u=r(3518),c=r(2351),d=r(7155),f=r(2799),h=r(2676),p="rovingFocusGroup.onEntryFocus",g={bubbles:!1,cancelable:!0},m="RovingFocusGroup",[v,w,x]=(0,o.B)(m),[y,b]=(0,l.b)(m,[x]),[S,j]=y(m),C=i.forwardRef((e,t)=>(0,h.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,h.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,h.jsx)(R,{...e,ref:t})})}));C.displayName=m;var R=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:o,loop:l=!1,dir:s,currentTabStopId:v,defaultCurrentTabStopId:x,onCurrentTabStopIdChange:y,onEntryFocus:b,preventScrollOnEntryFocus:j=!1,...C}=e,R=i.useRef(null),k=(0,a.e)(t,R),I=(0,f.gm)(s),[E,T]=(0,d.T)({prop:v,defaultProp:x??null,onChange:y,caller:m}),[A,$]=i.useState(!1),F=(0,c.W)(b),W=w(r),N=i.useRef(!1),[P,O]=i.useState(0);return i.useEffect(()=>{let e=R.current;if(e)return e.addEventListener(p,F),()=>e.removeEventListener(p,F)},[F]),(0,h.jsx)(S,{scope:r,orientation:o,dir:I,loop:l,currentTabStopId:E,onItemFocus:i.useCallback(e=>T(e),[T]),onItemShiftTab:i.useCallback(()=>$(!0),[]),onFocusableItemAdd:i.useCallback(()=>O(e=>e+1),[]),onFocusableItemRemove:i.useCallback(()=>O(e=>e-1),[]),children:(0,h.jsx)(u.WV.div,{tabIndex:A||0===P?-1:0,"data-orientation":o,...C,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,n.Mj)(e.onMouseDown,()=>{N.current=!0}),onFocus:(0,n.Mj)(e.onFocus,e=>{let t=!N.current;if(e.target===e.currentTarget&&t&&!A){let t=new CustomEvent(p,g);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=W().filter(e=>e.focusable);M([e.find(e=>e.active),e.find(e=>e.id===E),...e].filter(Boolean).map(e=>e.ref.current),j)}}N.current=!1}),onBlur:(0,n.Mj)(e.onBlur,()=>$(!1))})})}),k="RovingFocusGroupItem",I=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:o=!0,active:a=!1,tabStopId:l,children:c,...d}=e,f=(0,s.M)(),p=l||f,g=j(k,r),m=g.currentTabStopId===p,x=w(r),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:S}=g;return i.useEffect(()=>{if(o)return y(),()=>b()},[o,y,b]),(0,h.jsx)(v.ItemSlot,{scope:r,id:p,focusable:o,active:a,children:(0,h.jsx)(u.WV.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:(0,n.Mj)(e.onMouseDown,e=>{o?g.onItemFocus(p):e.preventDefault()}),onFocus:(0,n.Mj)(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:(0,n.Mj)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){g.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var i;let n=(i=e.key,"rtl"!==r?i:"ArrowLeft"===i?"ArrowRight":"ArrowRight"===i?"ArrowLeft":i);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return E[n]}(e,g.orientation,g.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=x().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,i;"prev"===t&&n.reverse();let o=n.indexOf(e.currentTarget);n=g.loop?(r=n,i=o+1,r.map((e,t)=>r[(i+t)%r.length])):n.slice(o+1)}setTimeout(()=>M(n))}}),children:"function"==typeof c?c({isCurrentTabStop:m,hasTabStop:null!=S}):c})})});I.displayName=k;var E={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M(e,t=!1){let r=document.activeElement;for(let i of e)if(i===r||(i.focus({preventScroll:t}),document.activeElement!==r))return}var T=C,A=I},4145:function(e,t,r){r.d(t,{VY:function(){return eA},ck:function(){return eF},__:function(){return e$},fC:function(){return eM},DI:function(){return es},GV:function(){return q},o6:function(){return ew},S_:function(){return em},ue:function(){return K},Jk:function(){return eS},Pn:function(){return ey},ki:function(){return _},Q_:function(){return en},xz:function(){return eT}});var i=r(5271),n=r(967);function o(e,[t,r]){return Math.min(r,Math.max(t,e))}var a=r(7653),l=r(1243),s=r(153),u=r(4425),c=r(2799),d=r(2170),f=r(6136),h=r(2183),p=r(4124),g=r(2611),m=r(1112),v=r(3518),w=r(4758),x=r(2351),y=r(7155),b=r(6518),S=r(8170),j=r(2676),C=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});i.forwardRef((e,t)=>(0,j.jsx)(v.WV.span,{...e,ref:t,style:{...C,...e.style}})).displayName="VisuallyHidden";var R=r(6268),k=r(1710),I=[" ","Enter","ArrowUp","ArrowDown"],E=[" ","Enter"],M="Select",[T,A,$]=(0,l.B)(M),[F,W]=(0,u.b)(M,[$,g.D7]),N=(0,g.D7)(),[P,O]=F(M),[D,V]=F(M),L=e=>{let{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:l,defaultValue:s,onValueChange:u,dir:d,name:f,autoComplete:h,disabled:m,required:v,form:w}=e,x=N(t),[b,S]=i.useState(null),[C,R]=i.useState(null),[k,I]=i.useState(!1),E=(0,c.gm)(d),[A,$]=(0,y.T)({prop:n,defaultProp:o??!1,onChange:a,caller:M}),[F,W]=(0,y.T)({prop:l,defaultProp:s,onChange:u,caller:M}),O=i.useRef(null),V=!b||w||!!b.closest("form"),[L,H]=i.useState(new Set),B=Array.from(L).map(e=>e.props.value).join(";");return(0,j.jsx)(g.fC,{...x,children:(0,j.jsxs)(P,{required:v,scope:t,trigger:b,onTriggerChange:S,valueNode:C,onValueNodeChange:R,valueNodeHasChildren:k,onValueNodeHasChildrenChange:I,contentId:(0,p.M)(),value:F,onValueChange:W,open:A,onOpenChange:$,dir:E,triggerPointerDownPosRef:O,disabled:m,children:[(0,j.jsx)(T.Provider,{scope:t,children:(0,j.jsx)(D,{scope:e.__scopeSelect,onNativeOptionAdd:i.useCallback(e=>{H(t=>new Set(t).add(e))},[]),onNativeOptionRemove:i.useCallback(e=>{H(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),V?(0,j.jsxs)(eR,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:h,value:F,onChange:e=>W(e.target.value),disabled:m,form:w,children:[void 0===F?(0,j.jsx)("option",{value:""}):null,Array.from(L)]},B):null]})})};L.displayName=M;var H="SelectTrigger",B=i.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...o}=e,l=N(r),u=O(H,r),c=u.disabled||n,d=(0,s.e)(t,u.onTriggerChange),f=A(r),h=i.useRef("touch"),[p,m,w]=eI(e=>{let t=f().filter(e=>!e.disabled),r=t.find(e=>e.value===u.value),i=eE(t,e,r);void 0!==i&&u.onValueChange(i.value)}),x=e=>{c||(u.onOpenChange(!0),w()),e&&(u.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,j.jsx)(g.ee,{asChild:!0,...l,children:(0,j.jsx)(v.WV.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ek(u.value)?"":void 0,...o,ref:d,onClick:(0,a.Mj)(o.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&x(e)}),onPointerDown:(0,a.Mj)(o.onPointerDown,e=>{h.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:(0,a.Mj)(o.onKeyDown,e=>{let t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),(!t||" "!==e.key)&&I.includes(e.key)&&(x(),e.preventDefault())})})})});B.displayName=H;var z="SelectValue",_=i.forwardRef((e,t)=>{let{__scopeSelect:r,className:i,style:n,children:o,placeholder:a="",...l}=e,u=O(z,r),{onValueNodeHasChildrenChange:c}=u,d=void 0!==o,f=(0,s.e)(t,u.onValueNodeChange);return(0,b.b)(()=>{c(d)},[c,d]),(0,j.jsx)(v.WV.span,{...l,ref:f,style:{pointerEvents:"none"},children:ek(u.value)?(0,j.jsx)(j.Fragment,{children:a}):o})});_.displayName=z;var q=i.forwardRef((e,t)=>{let{__scopeSelect:r,children:i,...n}=e;return(0,j.jsx)(v.WV.span,{"aria-hidden":!0,...n,ref:t,children:i||"▼"})});q.displayName="SelectIcon";var K=e=>(0,j.jsx)(m.h,{asChild:!0,...e});K.displayName="SelectPortal";var U="SelectContent",X=i.forwardRef((e,t)=>{let r=O(U,e.__scopeSelect),[o,a]=i.useState();return((0,b.b)(()=>{a(new DocumentFragment)},[]),r.open)?(0,j.jsx)(Y,{...e,ref:t}):o?n.createPortal((0,j.jsx)(Q,{scope:e.__scopeSelect,children:(0,j.jsx)(T.Slot,{scope:e.__scopeSelect,children:(0,j.jsx)("div",{children:e.children})})}),o):null});X.displayName=U;var[Q,G]=F(U),J=(0,w.Z8)("SelectContent.RemoveScroll"),Y=i.forwardRef((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:c,sideOffset:p,align:g,alignOffset:m,arrowPadding:v,collisionBoundary:w,collisionPadding:x,sticky:y,hideWhenDetached:b,avoidCollisions:S,...C}=e,I=O(U,r),[E,M]=i.useState(null),[T,$]=i.useState(null),F=(0,s.e)(t,e=>M(e)),[W,N]=i.useState(null),[P,D]=i.useState(null),V=A(r),[L,H]=i.useState(!1),B=i.useRef(!1);i.useEffect(()=>{if(E)return(0,R.Ry)(E)},[E]),(0,f.EW)();let z=i.useCallback(e=>{let[t,...r]=V().map(e=>e.ref.current),[i]=r.slice(-1),n=document.activeElement;for(let r of e)if(r===n||(r?.scrollIntoView({block:"nearest"}),r===t&&T&&(T.scrollTop=0),r===i&&T&&(T.scrollTop=T.scrollHeight),r?.focus(),document.activeElement!==n))return},[V,T]),_=i.useCallback(()=>z([W,E]),[z,W,E]);i.useEffect(()=>{L&&_()},[L,_]);let{onOpenChange:q,triggerPointerDownPosRef:K}=I;i.useEffect(()=>{if(E){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(K.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():E.contains(r.target)||q(!1),document.removeEventListener("pointermove",t),K.current=null};return null!==K.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[E,q,K]),i.useEffect(()=>{let e=()=>q(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[q]);let[X,G]=eI(e=>{let t=V().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),i=eE(t,e,r);i&&setTimeout(()=>i.ref.current.focus())}),Y=i.useCallback((e,t,r)=>{let i=!B.current&&!r;(void 0!==I.value&&I.value===t||i)&&(N(e),i&&(B.current=!0))},[I.value]),et=i.useCallback(()=>E?.focus(),[E]),er=i.useCallback((e,t,r)=>{let i=!B.current&&!r;(void 0!==I.value&&I.value===t||i)&&D(e)},[I.value]),ei="popper"===n?ee:Z,en=ei===ee?{side:c,sideOffset:p,align:g,alignOffset:m,arrowPadding:v,collisionBoundary:w,collisionPadding:x,sticky:y,hideWhenDetached:b,avoidCollisions:S}:{};return(0,j.jsx)(Q,{scope:r,content:E,viewport:T,onViewportChange:$,itemRefCallback:Y,selectedItem:W,onItemLeave:et,itemTextRefCallback:er,focusSelectedItem:_,selectedItemText:P,position:n,isPositioned:L,searchRef:X,children:(0,j.jsx)(k.Z,{as:J,allowPinchZoom:!0,children:(0,j.jsx)(h.M,{asChild:!0,trapped:I.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,a.Mj)(o,e=>{I.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,j.jsx)(d.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:(0,j.jsx)(ei,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:e=>e.preventDefault(),...C,...en,onPlaced:()=>H(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:(0,a.Mj)(C.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||G(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=V().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,i=t.indexOf(r);t=t.slice(i+1)}setTimeout(()=>z(t)),e.preventDefault()}})})})})})})});Y.displayName="SelectContentImpl";var Z=i.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:n,...a}=e,l=O(U,r),u=G(U,r),[c,d]=i.useState(null),[f,h]=i.useState(null),p=(0,s.e)(t,e=>h(e)),g=A(r),m=i.useRef(!1),w=i.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:S,focusSelectedItem:C}=u,R=i.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&f&&x&&y&&S){let e=l.trigger.getBoundingClientRect(),t=f.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),i=S.getBoundingClientRect();if("rtl"!==l.dir){let n=i.left-t.left,a=r.left-n,l=e.left-a,s=e.width+l,u=Math.max(s,t.width),d=o(a,[10,Math.max(10,window.innerWidth-10-u)]);c.style.minWidth=s+"px",c.style.left=d+"px"}else{let n=t.right-i.right,a=window.innerWidth-r.right-n,l=window.innerWidth-e.right-a,s=e.width+l,u=Math.max(s,t.width),d=o(a,[10,Math.max(10,window.innerWidth-10-u)]);c.style.minWidth=s+"px",c.style.right=d+"px"}let a=g(),s=window.innerHeight-20,u=x.scrollHeight,d=window.getComputedStyle(f),h=parseInt(d.borderTopWidth,10),p=parseInt(d.paddingTop,10),v=parseInt(d.borderBottomWidth,10),w=h+p+u+parseInt(d.paddingBottom,10)+v,b=Math.min(5*y.offsetHeight,w),j=window.getComputedStyle(x),C=parseInt(j.paddingTop,10),R=parseInt(j.paddingBottom,10),k=e.top+e.height/2-10,I=y.offsetHeight/2,E=h+p+(y.offsetTop+I);if(E<=k){let e=a.length>0&&y===a[a.length-1].ref.current;c.style.bottom="0px";let t=f.clientHeight-x.offsetTop-x.offsetHeight;c.style.height=E+Math.max(s-k,I+(e?R:0)+t+v)+"px"}else{let e=a.length>0&&y===a[0].ref.current;c.style.top="0px";let t=Math.max(k,h+x.offsetTop+(e?C:0)+I);c.style.height=t+(w-E)+"px",x.scrollTop=E-k+x.offsetTop}c.style.margin="10px 0",c.style.minHeight=b+"px",c.style.maxHeight=s+"px",n?.(),requestAnimationFrame(()=>m.current=!0)}},[g,l.trigger,l.valueNode,c,f,x,y,S,l.dir,n]);(0,b.b)(()=>R(),[R]);let[k,I]=i.useState();(0,b.b)(()=>{f&&I(window.getComputedStyle(f).zIndex)},[f]);let E=i.useCallback(e=>{e&&!0===w.current&&(R(),C?.(),w.current=!1)},[R,C]);return(0,j.jsx)(et,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:(0,j.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,j.jsx)(v.WV.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Z.displayName="SelectItemAlignedPosition";var ee=i.forwardRef((e,t)=>{let{__scopeSelect:r,align:i="start",collisionPadding:n=10,...o}=e,a=N(r);return(0,j.jsx)(g.VY,{...a,...o,ref:t,align:i,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ee.displayName="SelectPopperPosition";var[et,er]=F(U,{}),ei="SelectViewport",en=i.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:n,...o}=e,l=G(ei,r),u=er(ei,r),c=(0,s.e)(t,l.onViewportChange),d=i.useRef(0);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,j.jsx)(T.Slot,{scope:r,children:(0,j.jsx)(v.WV.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:(0,a.Mj)(o.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:i}=u;if(i?.current&&r){let e=Math.abs(d.current-t.scrollTop);if(e>0){let i=window.innerHeight-20,n=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(n<i){let o=n+e,a=Math.min(i,o),l=o-a;r.style.height=a+"px","0px"===r.style.bottom&&(t.scrollTop=l>0?l:0,r.style.justifyContent="flex-end")}}}d.current=t.scrollTop})})})]})});en.displayName=ei;var eo="SelectGroup",[ea,el]=F(eo),es=i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e,n=(0,p.M)();return(0,j.jsx)(ea,{scope:r,id:n,children:(0,j.jsx)(v.WV.div,{role:"group","aria-labelledby":n,...i,ref:t})})});es.displayName=eo;var eu="SelectLabel",ec=i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e,n=el(eu,r);return(0,j.jsx)(v.WV.div,{id:n.id,...i,ref:t})});ec.displayName=eu;var ed="SelectItem",[ef,eh]=F(ed),ep=i.forwardRef((e,t)=>{let{__scopeSelect:r,value:n,disabled:o=!1,textValue:l,...u}=e,c=O(ed,r),d=G(ed,r),f=c.value===n,[h,g]=i.useState(l??""),[m,w]=i.useState(!1),x=(0,s.e)(t,e=>d.itemRefCallback?.(e,n,o)),y=(0,p.M)(),b=i.useRef("touch"),S=()=>{o||(c.onValueChange(n),c.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,j.jsx)(ef,{scope:r,value:n,disabled:o,textId:y,isSelected:f,onItemTextChange:i.useCallback(e=>{g(t=>t||(e?.textContent??"").trim())},[]),children:(0,j.jsx)(T.ItemSlot,{scope:r,value:n,disabled:o,textValue:h,children:(0,j.jsx)(v.WV.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":f&&m,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:x,onFocus:(0,a.Mj)(u.onFocus,()=>w(!0)),onBlur:(0,a.Mj)(u.onBlur,()=>w(!1)),onClick:(0,a.Mj)(u.onClick,()=>{"mouse"!==b.current&&S()}),onPointerUp:(0,a.Mj)(u.onPointerUp,()=>{"mouse"===b.current&&S()}),onPointerDown:(0,a.Mj)(u.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:(0,a.Mj)(u.onPointerMove,e=>{b.current=e.pointerType,o?d.onItemLeave?.():"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,a.Mj)(u.onPointerLeave,e=>{e.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:(0,a.Mj)(u.onKeyDown,e=>{d.searchRef?.current!==""&&" "===e.key||(E.includes(e.key)&&S()," "===e.key&&e.preventDefault())})})})})});ep.displayName=ed;var eg="SelectItemText",em=i.forwardRef((e,t)=>{let{__scopeSelect:r,className:o,style:a,...l}=e,u=O(eg,r),c=G(eg,r),d=eh(eg,r),f=V(eg,r),[h,p]=i.useState(null),g=(0,s.e)(t,e=>p(e),d.onItemTextChange,e=>c.itemTextRefCallback?.(e,d.value,d.disabled)),m=h?.textContent,w=i.useMemo(()=>(0,j.jsx)("option",{value:d.value,disabled:d.disabled,children:m},d.value),[d.disabled,d.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=f;return(0,b.b)(()=>(x(w),()=>y(w)),[x,y,w]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(v.WV.span,{id:d.textId,...l,ref:g}),d.isSelected&&u.valueNode&&!u.valueNodeHasChildren?n.createPortal(l.children,u.valueNode):null]})});em.displayName=eg;var ev="SelectItemIndicator",ew=i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e;return eh(ev,r).isSelected?(0,j.jsx)(v.WV.span,{"aria-hidden":!0,...i,ref:t}):null});ew.displayName=ev;var ex="SelectScrollUpButton",ey=i.forwardRef((e,t)=>{let r=G(ex,e.__scopeSelect),n=er(ex,e.__scopeSelect),[o,a]=i.useState(!1),l=(0,s.e)(t,n.onScrollButtonChange);return(0,b.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){a(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,j.jsx)(ej,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});ey.displayName=ex;var eb="SelectScrollDownButton",eS=i.forwardRef((e,t)=>{let r=G(eb,e.__scopeSelect),n=er(eb,e.__scopeSelect),[o,a]=i.useState(!1),l=(0,s.e)(t,n.onScrollButtonChange);return(0,b.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;a(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,j.jsx)(ej,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eS.displayName=eb;var ej=i.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...o}=e,l=G("SelectScrollButton",r),s=i.useRef(null),u=A(r),c=i.useCallback(()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)},[]);return i.useEffect(()=>()=>c(),[c]),(0,b.b)(()=>{let e=u().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[u]),(0,j.jsx)(v.WV.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:(0,a.Mj)(o.onPointerDown,()=>{null===s.current&&(s.current=window.setInterval(n,50))}),onPointerMove:(0,a.Mj)(o.onPointerMove,()=>{l.onItemLeave?.(),null===s.current&&(s.current=window.setInterval(n,50))}),onPointerLeave:(0,a.Mj)(o.onPointerLeave,()=>{c()})})});i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e;return(0,j.jsx)(v.WV.div,{"aria-hidden":!0,...i,ref:t})}).displayName="SelectSeparator";var eC="SelectArrow";i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e,n=N(r),o=O(eC,r),a=G(eC,r);return o.open&&"popper"===a.position?(0,j.jsx)(g.Eh,{...n,...i,ref:t}):null}).displayName=eC;var eR=i.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{let o=i.useRef(null),a=(0,s.e)(n,o),l=(0,S.D)(t);return i.useEffect(()=>{let e=o.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(l!==t&&r){let i=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(i)}},[l,t]),(0,j.jsx)(v.WV.select,{...r,style:{...C,...r.style},ref:a,defaultValue:t})});function ek(e){return""===e||void 0===e}function eI(e){let t=(0,x.W)(e),r=i.useRef(""),n=i.useRef(0),o=i.useCallback(e=>{let i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=i.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function eE(e,t,r){var i;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=(i=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(i+r)%e.length]));1===n.length&&(o=o.filter(e=>e!==r));let a=o.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return a!==r?a:void 0}eR.displayName="SelectBubbleInput";var eM=L,eT=B,eA=X,e$=ec,eF=ep},3293:function(e,t,r){r.d(t,{bU:function(){return j},fC:function(){return S}});var i=r(5271),n=r(7653),o=r(153),a=r(4425),l=r(7155),s=r(8170),u=r(9375),c=r(3518),d=r(2676),f="Switch",[h,p]=(0,a.b)(f),[g,m]=h(f),v=i.forwardRef((e,t)=>{let{__scopeSwitch:r,name:a,checked:s,defaultChecked:u,required:h,disabled:p,value:m="on",onCheckedChange:v,form:w,...x}=e,[S,j]=i.useState(null),C=(0,o.e)(t,e=>j(e)),R=i.useRef(!1),k=!S||w||!!S.closest("form"),[I,E]=(0,l.T)({prop:s,defaultProp:u??!1,onChange:v,caller:f});return(0,d.jsxs)(g,{scope:r,checked:I,disabled:p,children:[(0,d.jsx)(c.WV.button,{type:"button",role:"switch","aria-checked":I,"aria-required":h,"data-state":b(I),"data-disabled":p?"":void 0,disabled:p,value:m,...x,ref:C,onClick:(0,n.Mj)(e.onClick,e=>{E(e=>!e),k&&(R.current=e.isPropagationStopped(),R.current||e.stopPropagation())})}),k&&(0,d.jsx)(y,{control:S,bubbles:!R.current,name:a,value:m,checked:I,required:h,disabled:p,form:w,style:{transform:"translateX(-100%)"}})]})});v.displayName=f;var w="SwitchThumb",x=i.forwardRef((e,t)=>{let{__scopeSwitch:r,...i}=e,n=m(w,r);return(0,d.jsx)(c.WV.span,{"data-state":b(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:t})});x.displayName=w;var y=i.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},l)=>{let c=i.useRef(null),f=(0,o.e)(c,l),h=(0,s.D)(r),p=(0,u.t)(t);return i.useEffect(()=>{let e=c.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==r&&t){let i=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(i)}},[h,r,n]),(0,d.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:f,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var S=v,j=x},4614:function(e,t,r){r.d(t,{VY:function(){return A},aV:function(){return M},fC:function(){return E},xz:function(){return T}});var i=r(5271),n=r(7653),o=r(4425),a=r(4239),l=r(6056),s=r(3518),u=r(2799),c=r(7155),d=r(4124),f=r(2676),h="Tabs",[p,g]=(0,o.b)(h,[a.Pc]),m=(0,a.Pc)(),[v,w]=p(h),x=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,onValueChange:n,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:p="automatic",...g}=e,m=(0,u.gm)(l),[w,x]=(0,c.T)({prop:i,onChange:n,defaultProp:o??"",caller:h});return(0,f.jsx)(v,{scope:r,baseId:(0,d.M)(),value:w,onValueChange:x,orientation:a,dir:m,activationMode:p,children:(0,f.jsx)(s.WV.div,{dir:m,"data-orientation":a,...g,ref:t})})});x.displayName=h;var y="TabsList",b=i.forwardRef((e,t)=>{let{__scopeTabs:r,loop:i=!0,...n}=e,o=w(y,r),l=m(r);return(0,f.jsx)(a.fC,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:i,children:(0,f.jsx)(s.WV.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:t})})});b.displayName=y;var S="TabsTrigger",j=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,disabled:o=!1,...l}=e,u=w(S,r),c=m(r),d=k(u.baseId,i),h=I(u.baseId,i),p=i===u.value;return(0,f.jsx)(a.ck,{asChild:!0,...c,focusable:!o,active:p,children:(0,f.jsx)(s.WV.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...l,ref:t,onMouseDown:(0,n.Mj)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():u.onValueChange(i)}),onKeyDown:(0,n.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&u.onValueChange(i)}),onFocus:(0,n.Mj)(e.onFocus,()=>{let e="manual"!==u.activationMode;p||o||!e||u.onValueChange(i)})})})});j.displayName=S;var C="TabsContent",R=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:o,children:a,...u}=e,c=w(C,r),d=k(c.baseId,n),h=I(c.baseId,n),p=n===c.value,g=i.useRef(p);return i.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,f.jsx)(l.z,{present:o||p,children:({present:r})=>(0,f.jsx)(s.WV.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:h,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:r&&a})})});function k(e,t){return`${e}-trigger-${t}`}function I(e,t){return`${e}-content-${t}`}R.displayName=C;var E=x,M=b,T=j,A=R}}]);