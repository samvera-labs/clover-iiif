(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{7744:function(e,t,r){e.exports={WebVTT:r(3238).WebVTT,VTTCue:r(4963).VTTCue,VTTRegion:r(4328).VTTRegion}},3238:function(){!function(e){function t(e,t){return void 0===t&&(t=1),"rgba("+[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),t].join(",")+")"}var r=1;function i(e,i,o){switch(o){case"webvtt.font.color":case"webvtt.font.opacity":var a=Services.prefs.getCharPref("webvtt.font.color"),s=Services.prefs.getIntPref("webvtt.font.opacity")/100;n.fontSet=t(a,s);break;case"webvtt.font.scale":r=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var l=Services.prefs.getCharPref("webvtt.bg.color"),u=Services.prefs.getIntPref("webvtt.bg.opacity")/100;n.backgroundSet=t(l,u);break;case"webvtt.edge.color":case"webvtt.edge.type":var c=Services.prefs.getIntPref("webvtt.edge.type"),f=Services.prefs.getCharPref("webvtt.edge.color");n.edgeSet=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "][c]+t(f)}}if("undefined"!=typeof Services){var n={};["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"].forEach(function(e){i(void 0,void 0,e),Services.prefs.addObserver(e,i,!1)})}var o=Object.create||function(){function e(){}return function(t){if(1!=arguments.length)throw Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function a(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function s(e){function t(e,t,r,i){return(0|e)*3600+(0|t)*60+(0|r)+(0|i)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function l(){this.values=o(null)}function u(e,t,r,i){var n=i?e.split(i):[e];for(var o in n)if("string"==typeof n[o]){var a=n[o].split(r);2===a.length&&t(a[0],a[1])}}a.prototype=o(Error.prototype),a.prototype.constructor=a,a.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},l.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var c={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":"\xa0"},f={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={v:"title",lang:"lang"},h={rt:"ruby"};function p(e,t){function r(e){return c[e]}for(var i,n=e.document.createElement("div"),o=n,a=[];null!==(i=function(){if(!t)return null;var e,r=t.match(/^([^<]*)(<[^>]+>?)?/);return e=r[1]?r[1]:r[2],t=t.substr(e.length),e}());){if("<"===i[0]){if("/"===i[1]){a.length&&a[a.length-1]===i.substr(2).replace(">","")&&(a.pop(),o=o.parentNode);continue}var l,u,p,g=s(i.substr(1,i.length-2));if(g){p=e.document.createProcessingInstruction("timestamp",g),o.appendChild(p);continue}var v=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v||!(p=function(t,r){var i=f[t];if(!i)return null;var n=e.document.createElement(i);n.localName=i;var o=d[t];return o&&r&&(n[o]=r.trim()),n}(v[1],v[3]))||(l=o,h[(u=p).localName]&&h[u.localName]!==l.localName))continue;v[2]&&(p.className=v[2].substr(1).replace("."," ")),a.push(v[1]),o.appendChild(p),o=p;continue}o.appendChild(e.document.createTextNode(function(e){for(;v=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(v[0],r);return e}(i)))}return n}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function v(){}function m(e,t,r){var i="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)",s="";void 0!==n&&(o=n.fontSet,a=n.backgroundSet,s=n.edgeSet),i&&(o="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),v.call(this),this.cue=t,this.cueDiv=p(e,t.text);var l={color:o,backgroundColor:a,textShadow:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=e.document.createElement("div"),l={textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},i||(l.direction=function(e){var t=[],r="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var r=t.childNodes.length-1;r>=0;r--)e.push(t.childNodes[r])}for(i(t,e);r=function e(t){if(!t||!t.length)return null;var r=t.pop(),n=r.textContent||r.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):n}return"ruby"===r.tagName?e(t):r.childNodes?(i(t,r),e(t)):void 0}(t);)for(var n=0;n<r.length;n++)if(function(e){for(var t=0;t<g.length;t++){var r=g[t];if(e>=r[0]&&e<=r[1])return!0}return!1}(r.charCodeAt(n)))return"rtl";return"ltr"}(this.cueDiv),l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var u=0;switch(t.positionAlign){case"start":u=t.position;break;case"middle":u=t.position-t.size/2;break;case"end":u=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function w(e){var t,r,i,n,o="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){r=e.div.offsetHeight,i=e.div.offsetWidth,n=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||n,this.height=e.height||r,this.bottom=e.bottom||n+(e.height||r),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function y(){}v.prototype.applyStyles=function(e,t){for(var r in t=t||this.div,e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},v.prototype.formatStyle=function(e,t){return 0===e?0:e+t},m.prototype=o(v.prototype),m.prototype.constructor=m,w.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},w.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},w.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},w.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},w.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},w.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},w.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||r}},y.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},y.convertCueToDOMTree=function(e,t){return e&&t?p(e,t):null},y.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",i.appendChild(n),!function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){for(var o=0;o<t.length;o++)n.appendChild(t[o].displayState);return}var a=[],s=w.getSimpleBoxPosition(n),l={font:Math.round(5*s.height)/100*r+"px sans-serif"};!function(){for(var r,i,o=0;o<t.length;o++)r=new m(e,i=t[o],l),n.appendChild(r.div),function(e,t,r,i){var n=new w(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return -1;for(var t=e.track,r=t.textTrackList,i=0,n=0;n<r.length&&r[n]!==t;n++)"showing"===r[n].mode&&i++;return -1*++i}(o),s=[];if(o.snapToLines){switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var l,u=n.lineHeight,c=u*Math.round(a),f=r[l]+u,d=s[0];Math.abs(c)>f&&(c=Math.ceil(f/u)*u*(c<0?-1:1)),a<0&&(c+=""===o.vertical?r.height:r.width,s=s.reverse()),n.move(d,c)}else{var h=n.lineHeight/r.height*100;switch(o.lineAlign){case"middle":a-=h/2;break;case"end":a-=h}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],n=new w(t)}var p=function(e,t){for(var n,o=new w(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(i);)e.move(t[s]);if(e.within(r))return e;var l=e.intersectPercentage(r);a>l&&(n=new w(e),a=l),e=new w(o)}return n||o}(n,s);t.move(p.toCSSCompatValues(r))}(0,r,s,a),i.displayState=r.div,a.push(w.getSimpleBoxPosition(r))}()},y.Parser=function(e,t){this.window=e,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]},y.Parser.prototype={reportOrThrowError:function(e){if(e instanceof a)this.onparsingerror&&this.onparsingerror(e);else throw e},parse:function(e){var t=this;function r(){for(var e=t.buffer,r=0;r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var i=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),i}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i,n,o=(n=r()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new a(a.Errors.BadSignature);t.state="HEADER"}for(var c=!1;t.buffer&&/\r\n|\n/.test(t.buffer);)switch(c?c=!1:n=r(),t.state){case"HEADER":/:/.test(n)?(i=n,u(i,function(e,r){"Region"===e&&function(e){var r=new l;if(u(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var n=new l;if(n.percent("x",i[0]),n.percent("y",i[1]),!n.has("x")||!n.has("y"))break;r.set(e+"X",n.get("x")),r.set(e+"Y",n.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")){var i=new t.window.VTTRegion;i.width=r.get("width",100),i.lines=r.get("lines",3),i.regionAnchorX=r.get("regionanchorX",0),i.regionAnchorY=r.get("regionanchorY",100),i.viewportAnchorX=r.get("viewportanchorX",0),i.viewportAnchorY=r.get("viewportanchorY",100),i.scroll=r.get("scroll",""),t.onregion&&t.onregion(i),t.regionList.push({id:r.get("id"),region:i})}}(r)},/:/)):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new t.window.VTTCue(0,0,""),t.state="CUE",-1===n.indexOf("-->")){t.cue.id=n;continue}case"CUE":try{!function(e,t,r){var i,n,o=e;function c(){var t=s(e);if(null===t)throw new a(a.Errors.BadTimeStamp,"Malformed timestamp: "+o);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function f(){e=e.replace(/^\s+/,"")}if(f(),t.startTime=c(),f(),"-->"!==e.substr(0,3))throw new a(a.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+o);e=e.substr(3),f(),t.endTime=c(),f(),i=e,n=new l,u(i,function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position","auto"),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(n,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var f=-1!==n.indexOf("-->");if(!n||f&&(c=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID");continue}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new a(a.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.WebVTT=y}(this)},4963:function(e,t,r){var i;e.exports&&(this.VTTCue=this.VTTCue||r(6315).VTTCue),i=this,i.VTTCue.prototype.toJSON=function(){var e={},t=this;return Object.keys(this).forEach(function(r){"getCueAsHTML"!==r&&"hasBeenReset"!==r&&"displayState"!==r&&(e[r]=t[r])}),e},i.VTTCue.create=function(e){if(!e.hasOwnProperty("startTime")||!e.hasOwnProperty("endTime")||!e.hasOwnProperty("text"))throw Error("You must at least have start time, end time, and text.");var t=new i.VTTCue(e.startTime,e.endTime,e.text);for(var r in e)t.hasOwnProperty(r)&&(t[r]=e[r]);return t},i.VTTCue.fromJSON=function(e){return this.create(JSON.parse(e))}},6315:function(){!function(e){var t={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(e){return"string"==typeof e&&!!r[e.toLowerCase()]&&e.toLowerCase()}function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}function o(e,r,o){var a=this,s=/MSIE\s8\.0/.test(navigator.userAgent),l={};s?a=document.createElement("custom"):l.enumerable=!0,a.hasBeenReset=!1;var u="",c=!1,f=e,d=r,h=o,p=null,g="",v=!0,m="auto",w="start",y=50,b="middle",x=50,S="middle";if(Object.defineProperty(a,"id",n({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(a,"pauseOnExit",n({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(a,"startTime",n({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",n({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",n({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",n({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",n({},l,{get:function(){return g},set:function(e){var r="string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase();if(!1===r)throw SyntaxError("An invalid or illegal string was specified.");g=r,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",n({},l,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",n({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&"auto"!==e)throw SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",n({},l,{get:function(){return w},set:function(e){var t=i(e);if(!t)throw SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",n({},l,{get:function(){return y},set:function(e){if(e<0||e>100)throw Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",n({},l,{get:function(){return b},set:function(e){var t=i(e);if(!t)throw SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",n({},l,{get:function(){return x},set:function(e){if(e<0||e>100)throw Error("Size must be between 0 and 100.");x=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",n({},l,{get:function(){return S},set:function(e){var t=i(e);if(!t)throw SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),a.displayState=void 0,s)return a}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||o}(this)},4328:function(e,t,r){var i;e.exports&&(this.VTTRegion=r(109).VTTRegion),i=this,i.VTTRegion.create=function(e){var t=new i.VTTRegion;for(var r in e)t.hasOwnProperty(r)&&(t[r]=e[r]);return t},i.VTTRegion.fromJSON=function(e){return this.create(JSON.parse(e))}},109:function(){!function(e){var t={"":!0,up:!0};function r(e){return"number"==typeof e&&e>=0&&e<=100}e.VTTRegion=e.VTTRegion||function(){var e=100,i=3,n=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!r(e))throw Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var r="string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase();if(!1===r)throw SyntaxError("An invalid or illegal string was specified.");l=r}}})}}(this)},9208:function(e,t,r){"use strict";r.d(t,{sX:function(){return T}});var i=r(4393),n=r(4419),o=r(7449),a=r(4112);function s(e){for(let t of Array.isArray(e.profile)?e.profile:[e.profile])if("string"==typeof t&&-1!==a.I.indexOf(t))return!0;return!1}function l(e){return e["@id"]?e["@id"]:e.id?e.id:void 0}function u(e){if(!e||!e.profile||!l(e))return!1;for(let t of Array.isArray(e.profile)?e.profile:[e.profile])if("string"==typeof t&&-1!==a.G.indexOf(t))return!0;return!1}function c(e){return e.endsWith("info.json")?e:e.endsWith("/")?`${e}info.json`:`${e}/info.json`}function f(e,t){if(t&&t.profile){let r=t.profile;if(r){let t=Array.isArray(r)?r:[r];if(t.includes(`level${e}`)||t.includes(`http://iiif.io/api/image/2/level${e}.json`)||t.includes(`http://iiif.io/api/image/1/level${e}.json`)||t.includes(`http://iiif.io/api/image/1/profiles/level${e}.json`))return!0;if(2===e){for(let e of t)if(a.E.includes(e))return!0}if(1===e){for(let e of t)if(a.F.includes(e))return!0}if(0===e){for(let e of t)if(a.I.includes(e))return!0}}}return!1}function d(e){return u(e)?f(0,e)?0:f(1,e)?1:f(2,e)?2:null:null}function h(e){let t=e.service?Array.isArray(e.service)?e.service:[e.service]:[],r=t.length,i=[];for(let e=0;e<r;e++)u(t[e])&&i.push(t[e]);return i}function p(e){let t=e.replace(/(https?:\/\/)?(www.)?/i,"");return -1!==t.indexOf("/")?t.split("/")[0]:t}function g(e,t,r){let i=function(e){let t=function(e,t=""){let{path:r,scheme:i,server:n,prefix:o}=function(e,t=""){let r=e.match(/^(([a-zA-Z]+):\/\/([^/]+))?((.*)+)/);if(!r)throw Error(`Invalid or unknown input ${e}`);let i=r[2],n=r[3],o=r[4];if("/"===o[0]&&(o=o.substring(1)),t.length>0){if("/"===t[0]&&(t=t.substring(1)),t!==o.substring(0,t.length))throw Error(`Path does not start with prefix (path: ${o}, prefix: ${t})`);o=o.substring(t.length)}return{scheme:i,server:n,path:o,prefix:t}}(e,t),a=r.split("/").reverse(),[s,l,u,c,...f]=a,d=f.reverse().filter(Boolean).join("/");if(1===a.length||""===s)return{type:"base",scheme:i,server:n,prefix:o,identifier:d};if("info.json"===s){let[,...e]=a;return{type:"info",scheme:i,server:n,prefix:o,identifier:e.reverse().filter(Boolean).join("/")}}if(typeof i>"u"||typeof n>"u"||typeof r>"u"||typeof c>"u"||typeof u>"u"||typeof l>"u"||typeof s>"u")throw Error("Invalid image service URL");let[h="",p=""]=s.split(".");return{type:"image",scheme:i,server:n,prefix:o,identifier:d,originalPath:r,region:function(e){try{if("full"===e)return{full:!0};if("square"===e)return{square:!0};let t=e.startsWith("pct:"),r=e.substr(t?4:0).split(",").map(e=>parseFloat(e));return{x:r[0],y:r[1],w:r[2],h:r[3],percent:t}}catch{throw Error("Expected 'full', 'square' or 'x,y,w,h'. Found "+e)}}(c),size:function(e){let t={upscaled:!1,max:!1,confined:!1};if("^"===e[0]&&(t.upscaled=!0,e=e.slice(1)),"max"===e||"full"===e)return t.max=!0,t.serialiseAsFull="full"===e,t;if("!"===e[0]&&(t.confined=!0,e=e.slice(1)),"p"===e[0])return t.percentScale=parseFloat(e.slice(4)),t;let r=e.split(",").map(e=>e.trim());return r.length&&(""!==r[0]&&(t.width=parseInt(r[0],10)),""!==r[1]&&(t.height=parseInt(r[1],10))),t}(u),rotation:function(e){let t={angle:0};if("!"===e[0]&&(t.mirror=!0,e=e.substr(1)),t.angle=parseFloat(e)%360,Number.isNaN(t.angle))throw Error(`Invalid rotation ${e}`);return t}(l),quality:h,format:p}}(c(e.id));if("info"!==t.type)throw Error("Invalid service URL");let r=function(e){let t=e?Array.isArray(e.profile)?e.profile:[e.profile]:[],r={extraQualities:[],extraFormats:[],extraFeatures:[]};for(let e of t){var i;if("string"==typeof e&&(i=e,e=-1!==a.E.indexOf(i)?a.L:-1!==a.F.indexOf(i)?a.K:a.J),e){if(e.formats)for(let t of e.formats)-1===r.extraFormats.indexOf(t)&&r.extraFormats.push(t);if(e.qualities)for(let t of e.qualities)-1===r.extraQualities.indexOf(t)&&r.extraQualities.push(t);if(e.supports)for(let t of e.supports)-1===r.extraFeatures.indexOf(t)&&r.extraFeatures.push(t);if(e.maxHeight&&(r.maxHeight=e.maxHeight),e.maxWidth&&(r.maxWidth=e.maxWidth),e.maxArea&&(r.maxArea=e.maxArea),e.extraFormats)for(let t of e.extraFormats)-1===r.extraFormats.indexOf(t)&&r.extraFormats.push(t);if(e.extraQualities)for(let t of e.extraQualities)-1===r.extraQualities.indexOf(t)&&r.extraQualities.push(t);if(e.extraFeatures)for(let t of e.extraFeatures)-1===r.extraFeatures.indexOf(t)&&r.extraFeatures.push(t);e.maxHeight&&(r.maxHeight=e.maxHeight),e.maxWidth&&(r.maxWidth=e.maxWidth),e.maxArea&&(r.maxArea=e.maxArea)}}if(e.extraFormats)for(let t of e.extraFormats)-1===r.extraFormats.indexOf(t)&&r.extraFormats.push(t);if(e.extraFeatures)for(let t of e.extraFeatures)-1===r.extraFeatures.indexOf(t)&&r.extraFeatures.push(t);if(e.extraQualities)for(let t of e.extraQualities)-1===r.extraQualities.indexOf(t)&&r.extraQualities.push(t);return r}(e);return{identifier:t.identifier,originalPath:"",server:t.server,prefix:t.prefix,scheme:t.scheme,type:"image",quality:-1===r.extraQualities.indexOf("default")?r.extraQualities[0]:"default",region:{full:!0},size:{max:!0,upscaled:!1,confined:!1},format:"jpg",rotation:{angle:0}}}({"@context":3===e.version?"http://iiif.io/api/image/3/context.json":"http://iiif.io/api/image/2/context.json",id:c(l(e)),profile:null===e.level||void 0===e.level?"level0":`level${e.level}`,type:3===e.version?"ImageService3":"ImageService2"});if("image"!==i.type)throw Error("Invalid service");return i.size.max=!1,i.size.width=t,i.size.height=r,{id:function(e,t){let r=e.prefix.startsWith("/")?e.prefix.substring(1):e.prefix,i=`${e.scheme}://${e.server}/${r?`${r}/`:""}${e.identifier}`;if("base"===e.type)return i;if("info"===e.type)return`${i}/info.json`;let{size:n}=e,{region:o,rotation:a,format:s,quality:l}=e;return[i,function({x:e=0,y:t=0,w:r,h:i,full:n,square:o,percent:a}){if(n)return"full";if(o)return"square";if(typeof r>"u"||typeof i>"u")throw Error("RegionParameter: invalid region");let s=`${e},${t},${r},${i}`;return a?`pct:${s}`:s}(o),function({max:e,percentScale:t,upscaled:r,confined:i,width:n,height:o,serialiseAsFull:a,version:s}){let l=[];return r&&l.push("^"),e?l.push(a?"full":"max"):(i&&l.push("!"),t&&l.push(`pct:${t}`),n&&l.push(`${n}`),l.push(","),o&&3===s&&l.push(`${o}`)),l.join("")}(n),`${a.mirror?"!":""}${(a.angle||0)%360}`,`${l}.${s}`].filter(Boolean).join("/")}(i),type:"fixed",width:t,height:r||e.height/(e.width||1)*t,unsafe:e.width>t}}function v(e){return -1!==(e["@context"]?Array.isArray(e["@context"])?e["@context"]:[e["@context"]]:[]).indexOf("http://iiif.io/api/image/3/context.json")}function m(e){let t=[],r=e.length;for(let i=0;i<r;i++){let r=e[i];if(!r)continue;let n=function(e){return u(e)?(e&&e.sizes?e.sizes:[]).map(t=>({id:l(e),type:"fixed-service",height:t.height,width:t.width,level:d(e),version:v(e)?3:2})):[]}(r);n.length&&t.push(...n);let o=function(e){if(!function(e){if(!u(e))return!1;for(let t of Array.isArray(e.profile)?e.profile:[e.profile])if("string"==typeof t){if(-1!==a.F.indexOf(t))return!0}else{let e=[...t.supports||[],...t.extraFeatures||[]];if(-1!==e.indexOf("regionByPx")&&(-1!==e.indexOf("sizeByW")||-1!==e.indexOf("sizeByWh")))return!0}return!1}(e))return[];let t=[],r=Array.isArray(e.profile)?e.profile:[e.profile],i=r.length;for(let t=0;t<i;t++){let i=r[t];if(i&&"string"!=typeof i&&(i.maxHeight||i.maxWidth))return[{id:l(e),type:"variable",minWidth:0,minHeight:0,maxHeight:i.maxHeight||i.maxWidth,maxWidth:i.maxWidth||i.maxHeight,level:d(e),version:"http://iiif.io/api/image/3/context.json"===e["@context"]?3:2}]}if(e.tiles){let r=e.tiles.length;for(let i=0;i<r;i++){let r=e.tiles[i];r&&(r.height||r.width)&&t.push({id:l(e),type:"variable",minHeight:0,minWidth:0,maxHeight:r.height||r.width,maxWidth:r.width,level:d(e),version:v(e)?3:2})}}return t}(r);o.length&&t.push(...o)}return t}function w(e){let t=e.match(/^.*\/(full)\/(((\d+),(\d+)?)|max)\/(\d+)\/default\.(jpg|png|jpeg)$/);if(t&&t[4]&&t[5]){let r=t[1],i=parseInt(t[4],10),n=parseInt(t[5],10),o=t[7];if(("max"===r||"full"===r)&&i&&n&&o)return{type:"fixed",id:e,height:n,width:i}}return{type:"unknown",id:e}}function y(e){if("string"==typeof e)return w(e);let t=e["@type"]?e["@type"]:e.type?e.type:void 0;if("Image"!==t&&"sc:Image"!==t)return null;let r=l(e);return r?r&&e.width&&e.height?{id:r,type:"fixed",width:e.width,height:e.height,unsafe:!0}:w(r):null}var b=class{constructor(e={}){(0,o.ov)(this,"config",{verificationsRequired:1,approximateServices:!1,enableFetching:!0,disableThrottling:!1}),(0,o.ov)(this,"fetchingCount",0),(0,o.ov)(this,"imageServices",{}),(0,o.ov)(this,"knownImageServers",{}),this.config=Object.assign(this.config,e)}setConfig(e){Object.assign(this.config,e)}sample(e,t,r=!0){let i=p(l(e)),n=c(l(e)),o=this.knownImageServers[i];return(this.imageServices[n]=Object.assign(e,{real:!0}),o||!e.tiles||s(e))?this.verify(e):(this.knownImageServers[i]={verifications:0,malformed:!1,root:i,preLoaded:r,sampledId:l(e),verified:!1,server:null,result:{context:e["@context"]||[],sampledProfile:e.profile,resourceServiceRatio:t&&e.height?t.height/e.height:1,sampledSizes:e.sizes||[],sizeRatios:function(e,t,r){let i=r.length,n=[];for(let t=0;t<i;t++){let i=r[t];if(!i)continue;let o=i.width;n.push(e/o)}return n}(e.width,e.height,e.sizes||[]),sampledTiles:e.tiles||[]}},!0)}preLoad(e,t=!0){this.knownImageServers[e.root]=e,t&&(this.knownImageServers[e.root].malformed=!1,this.knownImageServers[e.root].verifications=this.config.verificationsRequired)}predict(e,t=!1,r=!1){let i=e?.source,n=p(l(e)),o=this.knownImageServers[n],a=c(l(e));return this.imageServices[a]?this.imageServices[a]||null:!(!this.config.approximateServices||!o||!o.result||!(i?.height||e.height)||!(i?.width||e.width)||!r&&(o.malformed||o.verifications<this.config.verificationsRequired)||e.source&&s(e.source))?(this.imageServices[a]||(this.imageServices[a]={"@context":o.result.context,"@id":l(e),id:l(e),protocol:"http://iiif.io/api/image",tiles:i?.tiles||function(e,t,r){let i=e>t?e:t,n=r.length,o=[];for(let e=0;e<n;e++){let t=r[e];if(!t||0===t.scaleFactors.length)continue;let n=t.scaleFactors[0];if(!n)continue;let a=i/n,s=[n];for(;a>=t.width;)n*=2,s.push(n),a/=2;o.push({...t,scaleFactors:s})}return o}(e.width,e.height,o.result.sampledTiles),sizes:i?.sizes||function(e,t,r){let i=r.length,n=[];for(let o=0;o<i;o++){let i=r[o];i&&n.push({width:Math.floor(e/i),height:Math.floor(t/i)})}return n}(Math.round(e.width/o.result.resourceServiceRatio),Math.round(e.height/o.result.resourceServiceRatio),o.result.sizeRatios),profile:i?.profile||o.result.sampledProfile,height:i?.height||e.height,width:i?.width||e.width,real:!1}),this.imageServices[a]||null):null}async getThumbnailFromResource(e,t,r=!0,i=[]){let n=e?await this.getImageCandidates(e,r):[];return function(e,t){let r=[],i=Object.assign({unsafeImageService:!1,atAnyCost:!0,fallback:!0,minHeight:64,minWidth:64,maxHeight:1/0,maxWidth:1/0,returnAllOptions:!1,preferFixedSize:!1,allowUnsafe:!1,explain:!1,height:0,width:0},e),n=(e,t=0)=>i.explain?r.push(Array(t).fill(0).map(e=>"    ").join("")+e().trim()):void 0,o=[],a=[],s=null;n(()=>`Using configuration: ${JSON.stringify(i,null,2)}`);let l=(e,t)=>{if(n(()=>"Swapping choice",3),function(e,t,r){let i=e.width?e.width:e.maxWidth;return r.height<=e.maxHeight&&r.width<=e.maxWidth&&r.height>=e.minHeight&&r.width>=e.minWidth&&(!t||Math.abs(r.width-i)<Math.abs(t.width-i))}(i,t,e)){if(i.preferFixedSize&&e.unsafe){n(()=>`We found an image that was marked as unsafe, but it was the best size. (${e.id})`,4),a.push(e);return}i.returnAllOptions&&t&&a.push(t),n(()=>`We found a new image that was the best size. (${e.id})`,4),s=e}else i.returnAllOptions&&a.push(e)};n(()=>`The input shows we have ${t.length} list(s) of candidates to choose from.`);let u=t.length;for(let e=0;e<u;e++){let r=t[e]();n(()=>`Candidate group ${e}: ${JSON.stringify(r,null,2)}`,1);let a=r.length;n(()=>`Checking candidate list number ${e} and found ${a} potential ways of creating image(s)`,1);for(let e=0;e<a;e++){let t=r[e];n(()=>`-> Checking candidate ${e}`,1),"unknown"===t.type&&i.atAnyCost&&(n(()=>'We\'ve found an unknown image type, adding this to the "last resort" list',2),o.push(t)),"fixed"===t.type&&(t.unsafe?(n(()=>'We\'ve found an unsafe fixed image type, adding this to the "last resort" list',2),o.push(t)):(n(()=>"We've found a fixed size image, checking if it matches the request",2),l(t,s))),"fixed-service"===t.type&&(i.unsafeImageService?(n(()=>"Checking for an image from the tile source, without calculating the right height and width (unsafeImageService)",2),l(g(t,i.width,i.height),s)):(n(()=>"Checking for an image from the tile source 3",2),l(g(t,t.width,t.height),s))),"variable"===t.type&&t.maxWidth&&l(g({id:t.id,type:"fixed-service",width:t.maxWidth,height:t.maxWidth,level:t.level,version:t.version},t.maxWidth),s)}if(s&&!i.returnAllOptions){if(s.unsafe||i.allowUnsafe)continue;n(()=>`We found a match in choice list number ${e}, no searching any more`);break}}return i.atAnyCost&&0===a.length?(n(()=>s?`We found an image! ${s.id} of type ${s.type}`:'We found no images, but "atAnyCost" is set, so returning that'),{best:s||o[0]||null,fallback:o.slice(1),log:r}):i.returnAllOptions?(n(()=>"Returning all options that we have found"),{best:(i.atAnyCost?s||a[0]||o[0]:s||a[0])||null,fallback:[...a,...o],log:r}):(n(()=>"Returning the best image that we found, and a fallback"),{best:s||a[0]||null,fallback:s?a:a.slice(1),log:r})}(t,[()=>i,()=>n])}async getImageCandidates(e,t=!0){if(t&&e&&e.height&&e.width)for(let t of h(e)){let r={id:l(t),width:t.width?t.width:e.width,height:t.height?t.height:e.height,source:t};await this.loadService(r)}return function(e,t=!0,r){let i=[],n=y(e);if(null===n)return i;if(i.push(n),t&&e&&e.width&&e.height){let t=[];for(let i of h(e)){let n={id:l(i),width:e.width,height:e.height};if(r.canLoadSync(n)){let i=r.loadServiceSync(n);i&&(i.height||(i.height=e.height),i.width||(i.width=e.width),t.push(...m([i])))}}if(t.length)return i.push(...t),i}return e.service&&i.push(...m(e.service)),i}(e,t,this)}async verify(e){let t=this.predict(e,!1,!0),r=await this.fetchService(l(e));if(!t)return!1;let i=t.height===r.height&&t.width===r.width&&t["@context"]===r["@context"]&&function(e,t){if(e.length!==t.length)return!1;if(0===e.length&&0===t.length)return!0;let r=e.length,i=!0;for(let n=0;n<r;n++){let r=e[n],o=t[n];if(r.width!==o.width||r.height!==o.height){i=!1;break}}if(i)return!0;let n=0;for(let i=0;i<r;i++)for(let o=0;o<r;o++)if(e[i].width===t[o].width&&e[i].height===t[o].height){n++;break}return n===r}(t.sizes||[],r.sizes||[]);if(i){let t=p(l(e)),r=this.knownImageServers[t];r&&(r.verifications+=1,r.verifications>=this.config.verificationsRequired&&(r.verified=!0))}return i}canLoadSync(e){let t="string"==typeof e?e:l(e),r=c(t);if(this.imageServices[r])return!0;let i=this.knownImageServers[p(t)];return!!(i&&!i.malformed&&i.verifications>=this.config.verificationsRequired)}async markAsMalformed(e){return this.knownImageServers[p(l(e))].malformed=!0,this.loadService(e,!0)}async fetchService(e,t=!1){let r=c(e),i=this.imageServices[r];if(i&&(!t||i.real))return i;if(!this.config.enableFetching)throw Error("Fetching is not enabled");let n=await this.fetch(r).then(e=>e.json());return!n.id&&n["@id"]&&(n.id=n["@id"]),n.id!==e&&(n.id=e,n["@id"]&&(n["@id"]=e)),this.imageServices[r]=Object.assign(n,{real:!0}),this.imageServices[r]}async fetch(e,t){return fetch(e,t)}async loadService(e,t=!1){if(!this.config.disableThrottling){let e=!0;for(;e;)if(this.fetchingCount>=this.config.verificationsRequired)await new Promise(e=>setTimeout(e,500));else{e=!1;break}}let r=this.knownImageServers[p(l(e))];if(r&&!r.malformed&&!t){await r.result;let t=this.loadServiceSync(e);if(t)return t}this.fetchingCount++;let i=await this.fetchService(l(e),t);return this.fetchingCount--,i.real&&this.sample(i,e),i}loadServiceSync(e){let t=c(l(e));return this.imageServices[t]?this.imageServices[t]:this.config.approximateServices?this.predict(e):null}};!function(e={}){let t=e.events||(0,i.O)(),r=e.loader||new b;(0,n.M)((e,i)=>({loaded:{},loadServiceSync:(n,o,a)=>{let s=n.id||n["@id"],u=i().loaded[s];if(u&&"done"===u.status)return u.service;if(u&&"loading"===u.status)return null;if(u&&"error"===u.status)throw Error("Failed to load image service");let c={id:l(n),width:n.width||o?.width||0,height:n.height||o?.height||0,source:n},f=r.loadServiceSync(c);return f?(e(e=>({loaded:{...e.loaded,[s]:{status:"done",service:f,real:!0}}})),t.emit("image-service.loaded",{id:s,service:f})):a&&i().loadService(n,o).then(()=>{}),f},loadService:async(n,o)=>{let a=n.id||n["@id"],s=i().loaded[a];if(s&&"done"===s.status)return s.service;if(s&&"loading"===s.status)return new Promise((e,r)=>{let i=r=>{r.id===a&&(t.off("image-service.loaded",i),e(r.service||n))};t.on("image-service.loaded",i)});if(s&&"error"===s.status&&!o?.force)throw Error("Failed to load image service");t.emit("image-service.loading",{id:a});try{let i={id:l(n),width:n.width||0,height:n.height||0,source:n},s=await r.loadService(i,o?.force);return e(e=>({loaded:{...e.loaded,[a]:{status:"done",service:s,real:s.real}}})),t.emit("image-service.loaded",{id:a,service:s}),s}catch(e){throw t.emit("image-service.error",{id:a,error:e}),e}}}))}();var x=r(9267),S=new b,C=new Map;function T(e,{vault:t=x.x,dereference:r=!1,...i}={}){let n=C.get(t);return n||(n=function(e=x.x,t={}){let r=t.imageServiceLoader||S;async function i(t,n,o=!1,a=[],s){let l=()=>r.getThumbnailFromResource(void 0,n,o,a);if(!t)return await r.getThumbnailFromResource(void 0,n,o,a);if("string"==typeof t){let e=y(t);return e&&a.push(e),await r.getThumbnailFromResource(void 0,n,o,a)}let u=e.get(t,{skipSelfReturn:!1});if("string"==typeof u)return{best:y(u),fallback:[],log:[]};if(!u)return await l();let c=async t=>{if(t&&t.thumbnail&&t.thumbnail.length){let i=e.get(t.thumbnail[0]),n=await r.getImageCandidates(i,o);n&&n.length&&a.push(...n)}};switch(await c(u),u.type){case"Annotation":{let t=Array.isArray(u.body)?u.body:[u.body],i=e.get(t[0]);return s&&!i.width&&(i.width=s.width,i.height=s.height),await r.getThumbnailFromResource(i,n,o,a)}case"Canvas":return i(u.items[0],n,o,a,{width:u.width,height:u.height});case"AnnotationPage":return i(u.items[0],n,o,a,s);case"Choice":if(!u.items||u.items[0])break;return i(u.items[0],n,o,a,s);case"Collection":{let e=u.items[0];if(!e)return await l();return i(e,n,o,a,s)}case"Manifest":{let e=u.items[0];if(!e)return await l();return i(e,n,o,a,s)}case"SpecificResource":case"Image":case"Dataset":case"Sound":case"Text":case"TextualBody":case"Video":return s&&!u.width&&(u.width=s.width,u.height=s.height),r.getThumbnailFromResource(u,n,o,a)}return await l()}return{getBestThumbnailAtSize:i}}(t),C.set(t,n)),n.getBestThumbnailAtSize(e,i,r)}},9267:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});var i={},n={get:e=>e,setMetaValue([e,t,r],o){let a=n.getResourceMeta(e,t),s=a?a[r]:void 0,l="function"==typeof o?o(s):o;i[e]={...i[e]||{},[t]:{...(i[e]||{})[t]||{},[r]:l}}},getResourceMeta:(e,t)=>{let r=i[e];return r?t?r[t]:r:void 0},load:async e=>fetch("string"==typeof e?e:e.id).then(e=>e.json()),requestStatus(e){}}},4389:function(e,t,r){"use strict";r.d(t,{rw:function(){return o},sA:function(){return n}});var i=r(9267);function n(e=i.x,t,r,n=!1){let a=t.behavior||[],s=r?e.get(r):null;if(!s)return[];let l=s.behavior||[],u=!n&&a.includes("paged"),c=!u&&a.includes("continuous"),f=!u&&!c&&a.includes("individuals"),d=l.includes("facing-pages"),h=l.includes("non-paged");if(d||h||f||n)return[{id:s.id,type:"Canvas"}];let[p,g]=o(e,t);if(c)return p;let v=p.findIndex(e=>e.id===r);if(-1===v)return[];for(let e of g)if(e.includes(v))return e.map(e=>p[e]);return[{id:s.id,type:"Canvas"}]}function o(e=i.x,t,{disablePaging:r,skipNonPaged:n}={}){let o=t.behavior||[],a=o.includes("paged"),s=!a&&o.includes("continuous"),l=!a&&!s&&o.includes("individuals"),u="Manifest"===t.type?t.items:function e(t,r){let i=[];for(let n of r.items)if("SpecificResource"===n.type&&n.source?.type==="Canvas"&&(-1!==n.source.id.indexOf("#")?i.push({id:n.source.id.split("#")[0],type:"Canvas"}):i.push(n.source)),"Range"===n.type&&i.push(...e(t,t.get(n))),"SpecificResource"===n.type){let e="string"==typeof n.source?n.source:n.source.id;i.push({id:e,type:"Canvas"})}return i}(e,t);if(s)return[u,[u.map((e,t)=>t)]];if(l||!a||r)return[u,u.map((e,t)=>[t])];let c=[],f=[],d=()=>{f.length&&(c.push([...f]),f=[])},h=0,p=!1;for(let t=0;t<u.length;t++){let r=e.get(u[t]).behavior||[];if(r.includes("non-paged")){t===h&&h++,n||(d(),c.push([t]),d());continue}if(t===h||r.includes("facing-pages")){f.length&&(p=!0),d(),c.push([t]),d();continue}if(f.push(t),p){d(),p=!1;continue}f.length>1&&d()}return f.length&&d(),[u,c]}},4852:function(e,t,r){"use strict";r.d(t,{fC:function(){return C}});var i=r(5271),n=r(8343),o=r(4425),a=r(7155),s=r(6518),l=r(153),u=r(3518),c=r(7182),f=r(4124),d=r(2676),h="Collapsible",[p,g]=(0,o.b)(h),[v,m]=p(h),w=i.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:s,onOpenChange:l,...c}=e,[p,g]=(0,a.T)({prop:n,defaultProp:o??!1,onChange:l,caller:h});return(0,d.jsx)(v,{scope:r,disabled:s,contentId:(0,f.M)(),open:p,onOpenToggle:i.useCallback(()=>g(e=>!e),[g]),children:(0,d.jsx)(u.WV.div,{"data-state":S(p),"data-disabled":s?"":void 0,...c,ref:t})})});w.displayName=h;var y="CollapsibleTrigger";i.forwardRef((e,t)=>{let{__scopeCollapsible:r,...i}=e,o=m(y,r);return(0,d.jsx)(u.WV.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":S(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...i,ref:t,onClick:(0,n.M)(e.onClick,o.onOpenToggle)})}).displayName=y;var b="CollapsibleContent";i.forwardRef((e,t)=>{let{forceMount:r,...i}=e,n=m(b,e.__scopeCollapsible);return(0,d.jsx)(c.z,{present:r||n.open,children:({present:e})=>(0,d.jsx)(x,{...i,ref:t,present:e})})}).displayName=b;var x=i.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:n,children:o,...a}=e,c=m(b,r),[f,h]=i.useState(n),p=i.useRef(null),g=(0,l.e)(t,p),v=i.useRef(0),w=v.current,y=i.useRef(0),x=y.current,C=c.open||f,T=i.useRef(C),R=i.useRef(void 0);return i.useEffect(()=>{let e=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.b)(()=>{let e=p.current;if(e){R.current=R.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();v.current=t.height,y.current=t.width,T.current||(e.style.transitionDuration=R.current.transitionDuration,e.style.animationName=R.current.animationName),h(n)}},[c.open,n]),(0,d.jsx)(u.WV.div,{"data-state":S(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!C,...a,ref:g,style:{"--radix-collapsible-content-height":w?`${w}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:C&&o})});function S(e){return e?"open":"closed"}var C=w},1243:function(e,t,r){"use strict";r.d(t,{B:function(){return l}});var i=r(5271),n=r(4425),o=r(153),a=r(3589),s=r(2676);function l(e){let t=e+"CollectionProvider",[r,l]=(0,n.b)(t),[u,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),f=e=>{let{scope:t,children:r}=e,n=i.useRef(null),o=i.useRef(new Map).current;return(0,s.jsx)(u,{scope:t,itemMap:o,collectionRef:n,children:r})};f.displayName=t;let d=e+"CollectionSlot",h=(0,a.Z8)(d),p=i.forwardRef((e,t)=>{let{scope:r,children:i}=e,n=c(d,r),a=(0,o.e)(t,n.collectionRef);return(0,s.jsx)(h,{ref:a,children:i})});p.displayName=d;let g=e+"CollectionItemSlot",v="data-radix-collection-item",m=(0,a.Z8)(g),w=i.forwardRef((e,t)=>{let{scope:r,children:n,...a}=e,l=i.useRef(null),u=(0,o.e)(t,l),f=c(g,r);return i.useEffect(()=>(f.itemMap.set(l,{ref:l,...a}),()=>void f.itemMap.delete(l))),(0,s.jsx)(m,{[v]:"",ref:u,children:n})});return w.displayName=g,[{Provider:f,Slot:p,ItemSlot:w},function(t){let r=c(e+"CollectionConsumer",t);return i.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${v}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},l]}},2799:function(e,t,r){"use strict";r.d(t,{gm:function(){return o}});var i=r(5271);r(2676);var n=i.createContext(void 0);function o(e){let t=i.useContext(n);return e||t||"ltr"}},4369:function(e,t,r){"use strict";r.d(t,{ck:function(){return D},fC:function(){return W}});var i=r(5271),n=r(8343),o=r(153),a=r(4425),s=r(3518),l=r(5216),u=r(7155),c=r(2799),f=r(9375),d=r(8170),h=r(7182),p=r(2676),g="Radio",[v,m]=(0,a.b)(g),[w,y]=v(g),b=i.forwardRef((e,t)=>{let{__scopeRadio:r,name:a,checked:l=!1,required:u,disabled:c,value:f="on",onCheck:d,form:h,...g}=e,[v,m]=i.useState(null),y=(0,o.e)(t,e=>m(e)),b=i.useRef(!1),x=!v||h||!!v.closest("form");return(0,p.jsxs)(w,{scope:r,checked:l,disabled:c,children:[(0,p.jsx)(s.WV.button,{type:"button",role:"radio","aria-checked":l,"data-state":T(l),"data-disabled":c?"":void 0,disabled:c,value:f,...g,ref:y,onClick:(0,n.M)(e.onClick,e=>{l||d?.(),x&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),x&&(0,p.jsx)(C,{control:v,bubbles:!b.current,name:a,value:f,checked:l,required:u,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});b.displayName=g;var x="RadioIndicator",S=i.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:i,...n}=e,o=y(x,r);return(0,p.jsx)(h.z,{present:i||o.checked,children:(0,p.jsx)(s.WV.span,{"data-state":T(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})})});S.displayName=x;var C=i.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},l)=>{let u=i.useRef(null),c=(0,o.e)(u,l),h=(0,d.D)(r),g=(0,f.t)(t);return i.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==r&&t){let i=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(i)}},[h,r,n]),(0,p.jsx)(s.WV.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function T(e){return e?"checked":"unchecked"}C.displayName="RadioBubbleInput";var R=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],k="RadioGroup",[E,j]=(0,a.b)(k,[l.Pc,m]),I=(0,l.Pc)(),A=m(),[M,P]=E(k),O=i.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:i,defaultValue:n,value:o,required:a=!1,disabled:f=!1,orientation:d,dir:h,loop:g=!0,onValueChange:v,...m}=e,w=I(r),y=(0,c.gm)(h),[b,x]=(0,u.T)({prop:o,defaultProp:n??null,onChange:v,caller:k});return(0,p.jsx)(M,{scope:r,name:i,required:a,disabled:f,value:b,onValueChange:x,children:(0,p.jsx)(l.fC,{asChild:!0,...w,orientation:d,dir:y,loop:g,children:(0,p.jsx)(s.WV.div,{role:"radiogroup","aria-required":a,"aria-orientation":d,"data-disabled":f?"":void 0,dir:y,...m,ref:t})})})});O.displayName=k;var N="RadioGroupItem",V=i.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:a,...s}=e,u=P(N,r),c=u.disabled||a,f=I(r),d=A(r),h=i.useRef(null),g=(0,o.e)(t,h),v=u.value===s.value,m=i.useRef(!1);return i.useEffect(()=>{let e=e=>{R.includes(e.key)&&(m.current=!0)},t=()=>m.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,p.jsx)(l.ck,{asChild:!0,...f,focusable:!c,active:v,children:(0,p.jsx)(b,{disabled:c,required:u.required,checked:v,...d,...s,name:u.name,ref:g,onCheck:()=>u.onValueChange(s.value),onKeyDown:(0,n.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,n.M)(s.onFocus,()=>{m.current&&h.current?.click()})})})});V.displayName=N,i.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...i}=e,n=A(r);return(0,p.jsx)(S,{...n,...i,ref:t})}).displayName="RadioGroupIndicator";var W=O,D=V},5216:function(e,t,r){"use strict";r.d(t,{Pc:function(){return x},ck:function(){return M},fC:function(){return A}});var i=r(5271),n=r(8343),o=r(1243),a=r(153),s=r(4425),l=r(4124),u=r(3518),c=r(2351),f=r(7155),d=r(2799),h=r(2676),p="rovingFocusGroup.onEntryFocus",g={bubbles:!1,cancelable:!0},v="RovingFocusGroup",[m,w,y]=(0,o.B)(v),[b,x]=(0,s.b)(v,[y]),[S,C]=b(v),T=i.forwardRef((e,t)=>(0,h.jsx)(m.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,h.jsx)(m.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,h.jsx)(R,{...e,ref:t})})}));T.displayName=v;var R=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:l,currentTabStopId:m,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:b,onEntryFocus:x,preventScrollOnEntryFocus:C=!1,...T}=e,R=i.useRef(null),k=(0,a.e)(t,R),E=(0,d.gm)(l),[j,A]=(0,f.T)({prop:m,defaultProp:y??null,onChange:b,caller:v}),[M,P]=i.useState(!1),O=(0,c.W)(x),N=w(r),V=i.useRef(!1),[W,D]=i.useState(0);return i.useEffect(()=>{let e=R.current;if(e)return e.addEventListener(p,O),()=>e.removeEventListener(p,O)},[O]),(0,h.jsx)(S,{scope:r,orientation:o,dir:E,loop:s,currentTabStopId:j,onItemFocus:i.useCallback(e=>A(e),[A]),onItemShiftTab:i.useCallback(()=>P(!0),[]),onFocusableItemAdd:i.useCallback(()=>D(e=>e+1),[]),onFocusableItemRemove:i.useCallback(()=>D(e=>e-1),[]),children:(0,h.jsx)(u.WV.div,{tabIndex:M||0===W?-1:0,"data-orientation":o,...T,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,n.M)(e.onMouseDown,()=>{V.current=!0}),onFocus:(0,n.M)(e.onFocus,e=>{let t=!V.current;if(e.target===e.currentTarget&&t&&!M){let t=new CustomEvent(p,g);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=N().filter(e=>e.focusable);I([e.find(e=>e.active),e.find(e=>e.id===j),...e].filter(Boolean).map(e=>e.ref.current),C)}}V.current=!1}),onBlur:(0,n.M)(e.onBlur,()=>P(!1))})})}),k="RovingFocusGroupItem",E=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:o=!0,active:a=!1,tabStopId:s,children:c,...f}=e,d=(0,l.M)(),p=s||d,g=C(k,r),v=g.currentTabStopId===p,y=w(r),{onFocusableItemAdd:b,onFocusableItemRemove:x,currentTabStopId:S}=g;return i.useEffect(()=>{if(o)return b(),()=>x()},[o,b,x]),(0,h.jsx)(m.ItemSlot,{scope:r,id:p,focusable:o,active:a,children:(0,h.jsx)(u.WV.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...f,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{o?g.onItemFocus(p):e.preventDefault()}),onFocus:(0,n.M)(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:(0,n.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){g.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var i;let n=(i=e.key,"rtl"!==r?i:"ArrowLeft"===i?"ArrowRight":"ArrowRight"===i?"ArrowLeft":i);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return j[n]}(e,g.orientation,g.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=y().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,i;"prev"===t&&n.reverse();let o=n.indexOf(e.currentTarget);n=g.loop?(r=n,i=o+1,r.map((e,t)=>r[(i+t)%r.length])):n.slice(o+1)}setTimeout(()=>I(n))}}),children:"function"==typeof c?c({isCurrentTabStop:v,hasTabStop:null!=S}):c})})});E.displayName=k;var j={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I(e,t=!1){let r=document.activeElement;for(let i of e)if(i===r||(i.focus({preventScroll:t}),document.activeElement!==r))return}var A=T,M=E},2888:function(e,t,r){"use strict";r.d(t,{VY:function(){return eM},ck:function(){return eO},__:function(){return eP},fC:function(){return eI},DI:function(){return el},GV:function(){return q},o6:function(){return ew},S_:function(){return ev},ue:function(){return U},Jk:function(){return eS},Pn:function(){return eb},ki:function(){return _},Q_:function(){return en},xz:function(){return eA}});var i=r(5271),n=r(967);function o(e,[t,r]){return Math.min(r,Math.max(t,e))}var a=r(8343),s=r(1243),l=r(153),u=r(4425),c=r(2799),f=r(8917),d=r(7586),h=r(2183),p=r(4124),g=r(3764),v=r(1112),m=r(3518),w=r(3589),y=r(2351),b=r(7155),x=r(6518),S=r(8170),C=r(2676),T=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});i.forwardRef((e,t)=>(0,C.jsx)(m.WV.span,{...e,ref:t,style:{...T,...e.style}})).displayName="VisuallyHidden";var R=r(6268),k=r(1710),E=[" ","Enter","ArrowUp","ArrowDown"],j=[" ","Enter"],I="Select",[A,M,P]=(0,s.B)(I),[O,N]=(0,u.b)(I,[P,g.D7]),V=(0,g.D7)(),[W,D]=O(I),[F,L]=O(I),B=e=>{let{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:s,defaultValue:l,onValueChange:u,dir:f,name:d,autoComplete:h,disabled:v,required:m,form:w}=e,y=V(t),[x,S]=i.useState(null),[T,R]=i.useState(null),[k,E]=i.useState(!1),j=(0,c.gm)(f),[M,P]=(0,b.T)({prop:n,defaultProp:o??!1,onChange:a,caller:I}),[O,N]=(0,b.T)({prop:s,defaultProp:l,onChange:u,caller:I}),D=i.useRef(null),L=!x||w||!!x.closest("form"),[B,H]=i.useState(new Set),$=Array.from(B).map(e=>e.props.value).join(";");return(0,C.jsx)(g.fC,{...y,children:(0,C.jsxs)(W,{required:m,scope:t,trigger:x,onTriggerChange:S,valueNode:T,onValueNodeChange:R,valueNodeHasChildren:k,onValueNodeHasChildrenChange:E,contentId:(0,p.M)(),value:O,onValueChange:N,open:M,onOpenChange:P,dir:j,triggerPointerDownPosRef:D,disabled:v,children:[(0,C.jsx)(A.Provider,{scope:t,children:(0,C.jsx)(F,{scope:e.__scopeSelect,onNativeOptionAdd:i.useCallback(e=>{H(t=>new Set(t).add(e))},[]),onNativeOptionRemove:i.useCallback(e=>{H(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),L?(0,C.jsxs)(eR,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:O,onChange:e=>N(e.target.value),disabled:v,form:w,children:[void 0===O?(0,C.jsx)("option",{value:""}):null,Array.from(B)]},$):null]})})};B.displayName=I;var H="SelectTrigger",$=i.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...o}=e,s=V(r),u=D(H,r),c=u.disabled||n,f=(0,l.e)(t,u.onTriggerChange),d=M(r),h=i.useRef("touch"),[p,v,w]=eE(e=>{let t=d().filter(e=>!e.disabled),r=t.find(e=>e.value===u.value),i=ej(t,e,r);void 0!==i&&u.onValueChange(i.value)}),y=e=>{c||(u.onOpenChange(!0),w()),e&&(u.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,C.jsx)(g.ee,{asChild:!0,...s,children:(0,C.jsx)(m.WV.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ek(u.value)?"":void 0,...o,ref:f,onClick:(0,a.M)(o.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&y(e)}),onPointerDown:(0,a.M)(o.onPointerDown,e=>{h.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(y(e),e.preventDefault())}),onKeyDown:(0,a.M)(o.onKeyDown,e=>{let t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||v(e.key),(!t||" "!==e.key)&&E.includes(e.key)&&(y(),e.preventDefault())})})})});$.displayName=H;var z="SelectValue",_=i.forwardRef((e,t)=>{let{__scopeSelect:r,className:i,style:n,children:o,placeholder:a="",...s}=e,u=D(z,r),{onValueNodeHasChildrenChange:c}=u,f=void 0!==o,d=(0,l.e)(t,u.onValueNodeChange);return(0,x.b)(()=>{c(f)},[c,f]),(0,C.jsx)(m.WV.span,{...s,ref:d,style:{pointerEvents:"none"},children:ek(u.value)?(0,C.jsx)(C.Fragment,{children:a}):o})});_.displayName=z;var q=i.forwardRef((e,t)=>{let{__scopeSelect:r,children:i,...n}=e;return(0,C.jsx)(m.WV.span,{"aria-hidden":!0,...n,ref:t,children:i||"▼"})});q.displayName="SelectIcon";var U=e=>(0,C.jsx)(v.h,{asChild:!0,...e});U.displayName="SelectPortal";var K="SelectContent",X=i.forwardRef((e,t)=>{let r=D(K,e.__scopeSelect),[o,a]=i.useState();return((0,x.b)(()=>{a(new DocumentFragment)},[]),r.open)?(0,C.jsx)(J,{...e,ref:t}):o?n.createPortal((0,C.jsx)(Y,{scope:e.__scopeSelect,children:(0,C.jsx)(A.Slot,{scope:e.__scopeSelect,children:(0,C.jsx)("div",{children:e.children})})}),o):null});X.displayName=K;var[Y,Q]=O(K),G=(0,w.Z8)("SelectContent.RemoveScroll"),J=i.forwardRef((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:u,side:c,sideOffset:p,align:g,alignOffset:v,arrowPadding:m,collisionBoundary:w,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:S,...T}=e,E=D(K,r),[j,I]=i.useState(null),[A,P]=i.useState(null),O=(0,l.e)(t,e=>I(e)),[N,V]=i.useState(null),[W,F]=i.useState(null),L=M(r),[B,H]=i.useState(!1),$=i.useRef(!1);i.useEffect(()=>{if(j)return(0,R.Ry)(j)},[j]),(0,d.EW)();let z=i.useCallback(e=>{let[t,...r]=L().map(e=>e.ref.current),[i]=r.slice(-1),n=document.activeElement;for(let r of e)if(r===n||(r?.scrollIntoView({block:"nearest"}),r===t&&A&&(A.scrollTop=0),r===i&&A&&(A.scrollTop=A.scrollHeight),r?.focus(),document.activeElement!==n))return},[L,A]),_=i.useCallback(()=>z([N,j]),[z,N,j]);i.useEffect(()=>{B&&_()},[B,_]);let{onOpenChange:q,triggerPointerDownPosRef:U}=E;i.useEffect(()=>{if(j){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(U.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():j.contains(r.target)||q(!1),document.removeEventListener("pointermove",t),U.current=null};return null!==U.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[j,q,U]),i.useEffect(()=>{let e=()=>q(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[q]);let[X,Q]=eE(e=>{let t=L().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),i=ej(t,e,r);i&&setTimeout(()=>i.ref.current.focus())}),J=i.useCallback((e,t,r)=>{let i=!$.current&&!r;(void 0!==E.value&&E.value===t||i)&&(V(e),i&&($.current=!0))},[E.value]),et=i.useCallback(()=>j?.focus(),[j]),er=i.useCallback((e,t,r)=>{let i=!$.current&&!r;(void 0!==E.value&&E.value===t||i)&&F(e)},[E.value]),ei="popper"===n?ee:Z,en=ei===ee?{side:c,sideOffset:p,align:g,alignOffset:v,arrowPadding:m,collisionBoundary:w,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:S}:{};return(0,C.jsx)(Y,{scope:r,content:j,viewport:A,onViewportChange:P,itemRefCallback:J,selectedItem:N,onItemLeave:et,itemTextRefCallback:er,focusSelectedItem:_,selectedItemText:W,position:n,isPositioned:B,searchRef:X,children:(0,C.jsx)(k.Z,{as:G,allowPinchZoom:!0,children:(0,C.jsx)(h.M,{asChild:!0,trapped:E.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,a.M)(o,e=>{E.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,C.jsx)(f.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:(0,C.jsx)(ei,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:e=>e.preventDefault(),...T,...en,onPlaced:()=>H(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:(0,a.M)(T.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||Q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=L().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,i=t.indexOf(r);t=t.slice(i+1)}setTimeout(()=>z(t)),e.preventDefault()}})})})})})})});J.displayName="SelectContentImpl";var Z=i.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:n,...a}=e,s=D(K,r),u=Q(K,r),[c,f]=i.useState(null),[d,h]=i.useState(null),p=(0,l.e)(t,e=>h(e)),g=M(r),v=i.useRef(!1),w=i.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:S,focusSelectedItem:T}=u,R=i.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&d&&y&&b&&S){let e=s.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),r=s.valueNode.getBoundingClientRect(),i=S.getBoundingClientRect();if("rtl"!==s.dir){let n=i.left-t.left,a=r.left-n,s=e.left-a,l=e.width+s,u=Math.max(l,t.width),f=o(a,[10,Math.max(10,window.innerWidth-10-u)]);c.style.minWidth=l+"px",c.style.left=f+"px"}else{let n=t.right-i.right,a=window.innerWidth-r.right-n,s=window.innerWidth-e.right-a,l=e.width+s,u=Math.max(l,t.width),f=o(a,[10,Math.max(10,window.innerWidth-10-u)]);c.style.minWidth=l+"px",c.style.right=f+"px"}let a=g(),l=window.innerHeight-20,u=y.scrollHeight,f=window.getComputedStyle(d),h=parseInt(f.borderTopWidth,10),p=parseInt(f.paddingTop,10),m=parseInt(f.borderBottomWidth,10),w=h+p+u+parseInt(f.paddingBottom,10)+m,x=Math.min(5*b.offsetHeight,w),C=window.getComputedStyle(y),T=parseInt(C.paddingTop,10),R=parseInt(C.paddingBottom,10),k=e.top+e.height/2-10,E=b.offsetHeight/2,j=h+p+(b.offsetTop+E);if(j<=k){let e=a.length>0&&b===a[a.length-1].ref.current;c.style.bottom="0px";let t=d.clientHeight-y.offsetTop-y.offsetHeight;c.style.height=j+Math.max(l-k,E+(e?R:0)+t+m)+"px"}else{let e=a.length>0&&b===a[0].ref.current;c.style.top="0px";let t=Math.max(k,h+y.offsetTop+(e?T:0)+E);c.style.height=t+(w-j)+"px",y.scrollTop=j-k+y.offsetTop}c.style.margin="10px 0",c.style.minHeight=x+"px",c.style.maxHeight=l+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,c,d,y,b,S,s.dir,n]);(0,x.b)(()=>R(),[R]);let[k,E]=i.useState();(0,x.b)(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);let j=i.useCallback(e=>{e&&!0===w.current&&(R(),T?.(),w.current=!1)},[R,T]);return(0,C.jsx)(et,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:j,children:(0,C.jsx)("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,C.jsx)(m.WV.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Z.displayName="SelectItemAlignedPosition";var ee=i.forwardRef((e,t)=>{let{__scopeSelect:r,align:i="start",collisionPadding:n=10,...o}=e,a=V(r);return(0,C.jsx)(g.VY,{...a,...o,ref:t,align:i,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ee.displayName="SelectPopperPosition";var[et,er]=O(K,{}),ei="SelectViewport",en=i.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:n,...o}=e,s=Q(ei,r),u=er(ei,r),c=(0,l.e)(t,s.onViewportChange),f=i.useRef(0);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,C.jsx)(A.Slot,{scope:r,children:(0,C.jsx)(m.WV.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:(0,a.M)(o.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:i}=u;if(i?.current&&r){let e=Math.abs(f.current-t.scrollTop);if(e>0){let i=window.innerHeight-20,n=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(n<i){let o=n+e,a=Math.min(i,o),s=o-a;r.style.height=a+"px","0px"===r.style.bottom&&(t.scrollTop=s>0?s:0,r.style.justifyContent="flex-end")}}}f.current=t.scrollTop})})})]})});en.displayName=ei;var eo="SelectGroup",[ea,es]=O(eo),el=i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e,n=(0,p.M)();return(0,C.jsx)(ea,{scope:r,id:n,children:(0,C.jsx)(m.WV.div,{role:"group","aria-labelledby":n,...i,ref:t})})});el.displayName=eo;var eu="SelectLabel",ec=i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e,n=es(eu,r);return(0,C.jsx)(m.WV.div,{id:n.id,...i,ref:t})});ec.displayName=eu;var ef="SelectItem",[ed,eh]=O(ef),ep=i.forwardRef((e,t)=>{let{__scopeSelect:r,value:n,disabled:o=!1,textValue:s,...u}=e,c=D(ef,r),f=Q(ef,r),d=c.value===n,[h,g]=i.useState(s??""),[v,w]=i.useState(!1),y=(0,l.e)(t,e=>f.itemRefCallback?.(e,n,o)),b=(0,p.M)(),x=i.useRef("touch"),S=()=>{o||(c.onValueChange(n),c.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,C.jsx)(ed,{scope:r,value:n,disabled:o,textId:b,isSelected:d,onItemTextChange:i.useCallback(e=>{g(t=>t||(e?.textContent??"").trim())},[]),children:(0,C.jsx)(A.ItemSlot,{scope:r,value:n,disabled:o,textValue:h,children:(0,C.jsx)(m.WV.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:y,onFocus:(0,a.M)(u.onFocus,()=>w(!0)),onBlur:(0,a.M)(u.onBlur,()=>w(!1)),onClick:(0,a.M)(u.onClick,()=>{"mouse"!==x.current&&S()}),onPointerUp:(0,a.M)(u.onPointerUp,()=>{"mouse"===x.current&&S()}),onPointerDown:(0,a.M)(u.onPointerDown,e=>{x.current=e.pointerType}),onPointerMove:(0,a.M)(u.onPointerMove,e=>{x.current=e.pointerType,o?f.onItemLeave?.():"mouse"===x.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,a.M)(u.onPointerLeave,e=>{e.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:(0,a.M)(u.onKeyDown,e=>{f.searchRef?.current!==""&&" "===e.key||(j.includes(e.key)&&S()," "===e.key&&e.preventDefault())})})})})});ep.displayName=ef;var eg="SelectItemText",ev=i.forwardRef((e,t)=>{let{__scopeSelect:r,className:o,style:a,...s}=e,u=D(eg,r),c=Q(eg,r),f=eh(eg,r),d=L(eg,r),[h,p]=i.useState(null),g=(0,l.e)(t,e=>p(e),f.onItemTextChange,e=>c.itemTextRefCallback?.(e,f.value,f.disabled)),v=h?.textContent,w=i.useMemo(()=>(0,C.jsx)("option",{value:f.value,disabled:f.disabled,children:v},f.value),[f.disabled,f.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=d;return(0,x.b)(()=>(y(w),()=>b(w)),[y,b,w]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.WV.span,{id:f.textId,...s,ref:g}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?n.createPortal(s.children,u.valueNode):null]})});ev.displayName=eg;var em="SelectItemIndicator",ew=i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e;return eh(em,r).isSelected?(0,C.jsx)(m.WV.span,{"aria-hidden":!0,...i,ref:t}):null});ew.displayName=em;var ey="SelectScrollUpButton",eb=i.forwardRef((e,t)=>{let r=Q(ey,e.__scopeSelect),n=er(ey,e.__scopeSelect),[o,a]=i.useState(!1),s=(0,l.e)(t,n.onScrollButtonChange);return(0,x.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){a(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,C.jsx)(eC,{...e,ref:s,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eb.displayName=ey;var ex="SelectScrollDownButton",eS=i.forwardRef((e,t)=>{let r=Q(ex,e.__scopeSelect),n=er(ex,e.__scopeSelect),[o,a]=i.useState(!1),s=(0,l.e)(t,n.onScrollButtonChange);return(0,x.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;a(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,C.jsx)(eC,{...e,ref:s,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eS.displayName=ex;var eC=i.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...o}=e,s=Q("SelectScrollButton",r),l=i.useRef(null),u=M(r),c=i.useCallback(()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)},[]);return i.useEffect(()=>()=>c(),[c]),(0,x.b)(()=>{let e=u().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[u]),(0,C.jsx)(m.WV.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:(0,a.M)(o.onPointerDown,()=>{null===l.current&&(l.current=window.setInterval(n,50))}),onPointerMove:(0,a.M)(o.onPointerMove,()=>{s.onItemLeave?.(),null===l.current&&(l.current=window.setInterval(n,50))}),onPointerLeave:(0,a.M)(o.onPointerLeave,()=>{c()})})});i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e;return(0,C.jsx)(m.WV.div,{"aria-hidden":!0,...i,ref:t})}).displayName="SelectSeparator";var eT="SelectArrow";i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e,n=V(r),o=D(eT,r),a=Q(eT,r);return o.open&&"popper"===a.position?(0,C.jsx)(g.Eh,{...n,...i,ref:t}):null}).displayName=eT;var eR=i.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{let o=i.useRef(null),a=(0,l.e)(n,o),s=(0,S.D)(t);return i.useEffect(()=>{let e=o.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(s!==t&&r){let i=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(i)}},[s,t]),(0,C.jsx)(m.WV.select,{...r,style:{...T,...r.style},ref:a,defaultValue:t})});function ek(e){return""===e||void 0===e}function eE(e){let t=(0,y.W)(e),r=i.useRef(""),n=i.useRef(0),o=i.useCallback(e=>{let i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=i.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function ej(e,t,r){var i;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=(i=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(i+r)%e.length]));1===n.length&&(o=o.filter(e=>e!==r));let a=o.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return a!==r?a:void 0}eR.displayName="SelectBubbleInput";var eI=B,eA=$,eM=X,eP=ec,eO=ep},7121:function(e,t,r){"use strict";r.d(t,{bU:function(){return C},fC:function(){return S}});var i=r(5271),n=r(8343),o=r(153),a=r(4425),s=r(7155),l=r(8170),u=r(9375),c=r(3518),f=r(2676),d="Switch",[h,p]=(0,a.b)(d),[g,v]=h(d),m=i.forwardRef((e,t)=>{let{__scopeSwitch:r,name:a,checked:l,defaultChecked:u,required:h,disabled:p,value:v="on",onCheckedChange:m,form:w,...y}=e,[S,C]=i.useState(null),T=(0,o.e)(t,e=>C(e)),R=i.useRef(!1),k=!S||w||!!S.closest("form"),[E,j]=(0,s.T)({prop:l,defaultProp:u??!1,onChange:m,caller:d});return(0,f.jsxs)(g,{scope:r,checked:E,disabled:p,children:[(0,f.jsx)(c.WV.button,{type:"button",role:"switch","aria-checked":E,"aria-required":h,"data-state":x(E),"data-disabled":p?"":void 0,disabled:p,value:v,...y,ref:T,onClick:(0,n.M)(e.onClick,e=>{j(e=>!e),k&&(R.current=e.isPropagationStopped(),R.current||e.stopPropagation())})}),k&&(0,f.jsx)(b,{control:S,bubbles:!R.current,name:a,value:v,checked:E,required:h,disabled:p,form:w,style:{transform:"translateX(-100%)"}})]})});m.displayName=d;var w="SwitchThumb",y=i.forwardRef((e,t)=>{let{__scopeSwitch:r,...i}=e,n=v(w,r);return(0,f.jsx)(c.WV.span,{"data-state":x(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:t})});y.displayName=w;var b=i.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{let c=i.useRef(null),d=(0,o.e)(c,s),h=(0,l.D)(r),p=(0,u.t)(t);return i.useEffect(()=>{let e=c.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==r&&t){let i=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(i)}},[h,r,n]),(0,f.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:d,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function x(e){return e?"checked":"unchecked"}b.displayName="SwitchBubbleInput";var S=m,C=y},2923:function(e,t,r){"use strict";r.d(t,{VY:function(){return M},aV:function(){return I},fC:function(){return j},xz:function(){return A}});var i=r(5271),n=r(8343),o=r(4425),a=r(5216),s=r(7182),l=r(3518),u=r(2799),c=r(7155),f=r(4124),d=r(2676),h="Tabs",[p,g]=(0,o.b)(h,[a.Pc]),v=(0,a.Pc)(),[m,w]=p(h),y=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,onValueChange:n,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:p="automatic",...g}=e,v=(0,u.gm)(s),[w,y]=(0,c.T)({prop:i,onChange:n,defaultProp:o??"",caller:h});return(0,d.jsx)(m,{scope:r,baseId:(0,f.M)(),value:w,onValueChange:y,orientation:a,dir:v,activationMode:p,children:(0,d.jsx)(l.WV.div,{dir:v,"data-orientation":a,...g,ref:t})})});y.displayName=h;var b="TabsList",x=i.forwardRef((e,t)=>{let{__scopeTabs:r,loop:i=!0,...n}=e,o=w(b,r),s=v(r);return(0,d.jsx)(a.fC,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:i,children:(0,d.jsx)(l.WV.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:t})})});x.displayName=b;var S="TabsTrigger",C=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,disabled:o=!1,...s}=e,u=w(S,r),c=v(r),f=k(u.baseId,i),h=E(u.baseId,i),p=i===u.value;return(0,d.jsx)(a.ck,{asChild:!0,...c,focusable:!o,active:p,children:(0,d.jsx)(l.WV.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...s,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():u.onValueChange(i)}),onKeyDown:(0,n.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&u.onValueChange(i)}),onFocus:(0,n.M)(e.onFocus,()=>{let e="manual"!==u.activationMode;p||o||!e||u.onValueChange(i)})})})});C.displayName=S;var T="TabsContent",R=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:o,children:a,...u}=e,c=w(T,r),f=k(c.baseId,n),h=E(c.baseId,n),p=n===c.value,g=i.useRef(p);return i.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,d.jsx)(s.z,{present:o||p,children:({present:r})=>(0,d.jsx)(l.WV.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!r,id:h,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:r&&a})})});function k(e,t){return`${e}-trigger-${t}`}function E(e,t){return`${e}-content-${t}`}R.displayName=T;var j=y,I=x,A=C,M=R}}]);